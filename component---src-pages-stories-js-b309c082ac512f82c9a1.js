webpackJsonp([0xdf49b16e737],{98:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function i(t,e){return t.raw=e,t}e.__esModule=!0,e.Wrapper=void 0;var c=i(["\n    grid-column-gap: 0.5rem;\n    grid-template-areas:\n      '. fs fs fs fs fs fs fs fs fs fs .'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "],["\n    grid-column-gap: 0.5rem;\n    grid-template-areas:\n      '. fs fs fs fs fs fs fs fs fs fs .'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "]),l=i(["\n    grid-template-areas:\n      'fs fs fs fs fs fs fs fs fs fs fs fs'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "],["\n    grid-template-areas:\n      'fs fs fs fs fs fs fs fs fs fs fs fs'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "]),f=n(3),u=o(f),d=n(5),p=o(d),h=n(2),g=o(h),m=n(6),y=n(35),b=o(y),v=n(34),S=o(v),w=n(55),_=o(w),P=n(54),E=o(P),R=e.Wrapper=p.default.div.withConfig({displayName:"StoriesContainer__Wrapper"})(["display:grid;grid-template-columns:repeat(12,1fr);grid-template-rows:auto;grid-column-gap:1rem;grid-template-areas:'. . fs fs fs fs fs fs fs fs . .' 'cont cont cont cont cont cont cont cont cont cont cont cont';margin-top:2.5rem;"," ",";"],m.media.giant(c),m.media.tablet(l)),k=p.default.div.withConfig({displayName:"StoriesContainer__Container"})(["grid-area:cont;display:flex;flex-direction:column;align-content:center;"]),C=function(t){function e(n){a(this,e);var o=r(this,t.call(this,n));return o.state={searchQuery:"",blog:o.props.initialBlog,firstItem:0,activePage:0},o.CARDS={cols:2,items:6},o.changePage=o.changePage.bind(o),o.handleSort=o.handleSort.bind(o),o.handleSearch=o.handleSearch.bind(o),o.handleInput=o.handleInput.bind(o),o}return s(e,t),e.prototype.changePage=function(t){var e=this.state,n=e.firstItem,o=e.blog,a=e.activePage,r=this.props,s=r.numStories,i=r.pages,c=o.length-1,l=n-s;l=l<0?0:l;var f=n+s;switch(f=f>c?c:f,t){case-1:return void this.setState({firstItem:l,activePage:a-1<0?0:a-1});case 0:return void this.setState({firstItem:f,activePage:a+2>i?i-1:a+1});default:return void this.setState({firstItem:s*(t-1),activePage:t-1})}},e.prototype.handleSort=function(t){var e=[].concat(this.state.blog),n=[].concat(this.props.initialBlog);switch(t){case"all":return void this.setState({blog:n});case"by author":return void this.setState({blog:this.sortBy("author",e)});case"by title":return void this.setState({blog:this.sortBy("title",e)});case"by length":return void this.setState({blog:this.sortBy("timeToRead",e)});default:return}},e.prototype.handleSearch=function(){[].concat(this.props.initialBlog),this.state.searchQuery},e.prototype.handleInput=function(t){this.setState({searchQuery:t})},e.prototype.setPagination=function(){var t=this.props.numStories,e=this.state,n=e.firstItem,o=e.blog;return o.slice(n,n+t)},e.prototype.sortBy=function(t,e){var n=e.sort(function(e,n){var o=void 0,a=void 0;return"author"===t?(o=e.node[t].lastName,a=n.node[t].lastName):"title"===t?(o=e.node[t],a=n.node[t]):(o=e.node.content.childMarkdownRemark[t],a=n.node.content.childMarkdownRemark[t]),o<a?-1:o>a?1:0});return n},e.prototype.render=function(){var t=this.setPagination();return u.default.createElement(R,null,u.default.createElement(b.default,{area:"fs",items:this.props.menuFilter,changeDates:this.handleSort,search:this.handleSearch,input:this.handleInput}),u.default.createElement(k,null,u.default.createElement(S.default,{cols:this.CARDS.cols,story:!0},t.map(function(t){return u.default.createElement(_.default,{key:t.node.id,title:t.node.title,slug:t.node.slug,author:t.node.author.fullName,date:t.node.publishDate,text:t.node.content.childMarkdownRemark.excerpt,tags:t.node.tags,img:t.node.featureImage.resolutions.src,time:t.node.content.childMarkdownRemark.timeToRead})})),u.default.createElement(E.default,{onChange:this.changePage,background:this.props.theme.white,pageNum:this.props.pages,active:this.state.activePage})))},e}(u.default.Component);e.default=(0,d.withTheme)(C),C.propTypes={initialBlog:g.default.array,menuFilter:g.default.array.isRequired,pages:g.default.number.isRequired,numStories:g.default.number.isRequired,theme:g.default.PropTypes.oneOfType([g.default.func,g.default.object])}},250:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.query=void 0;var a=n(3),r=o(a),s=n(2),i=o(s),c=n(29),l=o(c),f=n(98),u=o(f),d=4,p=function(t){var e=t.data,n=e.site,o=e.allContentfulBlog,a=Math.ceil(o.edges.length/d);return r.default.createElement("div",null,r.default.createElement(l.default,{type:"stories"}),r.default.createElement(u.default,{menuFilter:n.siteMetadata.filterOptions.stories,initialBlog:o.edges,pages:a,numStories:d}))};e.query="** extracted graphql fragment **";p.propTypes={data:i.default.object},e.default=p}});
//# sourceMappingURL=component---src-pages-stories-js-b309c082ac512f82c9a1.js.map