{"version":3,"sources":["webpack:///component---src-pages-stories-js-575244a12e5cec5c3e95.js","webpack:///./src/components/StoriesContainer.js","webpack:///./src/components/StoryCard.js","webpack:///./src/pages/stories.js"],"names":["webpackJsonp","242","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_taggedTemplateLiteralLoose","strings","raw","_templateObject","_templateObject2","_react","_react2","_styledComponents","_styledComponents2","_propTypes","_propTypes2","_globalStyle","_FilterAndSearch","_FilterAndSearch2","_CardContainer","_CardContainer2","_StoryCard","_StoryCard2","_Pagination","_Pagination2","Wrapper","styled","div","withConfig","displayName","media","giant","tablet","Container","StoriesContainer","_React$Component","props","this","_this","state","searchQuery","blog","initialBlog","firstItem","activePage","CARDS","cols","items","changePage","bind","handleSort","handleSearch","handleInput","num","_state","_props","numStories","pages","maxLength","length","previous","next","setState","str","loadedBlog","sortByAuthor","val","setPagination","_state2","slice","arr","sorted","sort","a","b","authorA","node","author","lastName","authorB","render","createElement","area","menuFilter","changeDates","search","input","story","map","elem","key","id","title","fullName","date","publishDate","text","excerpt","img","featureImage","resolutions","src","onChange","background","theme","white","pageNum","active","React","Component","withTheme","propTypes","PropTypes","array","isRequired","number","oneOfType","func","object","55","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","_templateObject17","_templateObject18","_Button","primary","light","phone","Image","secondary","yellow","desktop","Text","StoryTitle","StyledH3","extend","StoryAuthor","StyledH4","green","StoryDate","StyledP","StoryText","ButtonContainer","StoryCard","apply","arguments","formatDate","Date","months","getDate","getMonth","getFullYear","readStory","event","console","log","_this2","alt","ButtonBig","color","border","onClick","e","string","251","query","undefined","_Hero","_Hero2","_StoriesContainer","_StoriesContainer2","storiesPerPage","StoriesPage","_ref","data","site","allContentfulBlog","Math","ceil","edges","type","siteMetadata","filterOptions","stories"],"mappings":"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","file":"component---src-pages-stories-js-575244a12e5cec5c3e95.js","sourcesContent":["webpackJsonp([15344225150775],{\n\n/***/ 242:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _templateObject = _taggedTemplateLiteralLoose(['\\n    grid-column-gap: 0.5rem;\\n    grid-template-areas:\\n      \\'. fs fs fs fs fs fs fs fs fs fs .\\'\\n      \\'cont cont cont cont cont cont cont cont cont cont cont cont\\';\\n  '], ['\\n    grid-column-gap: 0.5rem;\\n    grid-template-areas:\\n      \\'. fs fs fs fs fs fs fs fs fs fs .\\'\\n      \\'cont cont cont cont cont cont cont cont cont cont cont cont\\';\\n  ']),\n\t    _templateObject2 = _taggedTemplateLiteralLoose(['\\n    grid-template-areas:\\n      \\'fs fs fs fs fs fs fs fs fs fs fs fs\\'\\n      \\'cont cont cont cont cont cont cont cont cont cont cont cont\\';\\n  '], ['\\n    grid-template-areas:\\n      \\'fs fs fs fs fs fs fs fs fs fs fs fs\\'\\n      \\'cont cont cont cont cont cont cont cont cont cont cont cont\\';\\n  ']);\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _styledComponents = __webpack_require__(5);\n\t\n\tvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\t\n\tvar _propTypes = __webpack_require__(2);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _globalStyle = __webpack_require__(6);\n\t\n\tvar _FilterAndSearch = __webpack_require__(54);\n\t\n\tvar _FilterAndSearch2 = _interopRequireDefault(_FilterAndSearch);\n\t\n\tvar _CardContainer = __webpack_require__(53);\n\t\n\tvar _CardContainer2 = _interopRequireDefault(_CardContainer);\n\t\n\tvar _StoryCard = __webpack_require__(55);\n\t\n\tvar _StoryCard2 = _interopRequireDefault(_StoryCard);\n\t\n\tvar _Pagination = __webpack_require__(73);\n\t\n\tvar _Pagination2 = _interopRequireDefault(_Pagination);\n\t\n\tvar _api = __webpack_require__(56);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\t\n\tvar Wrapper = _styledComponents2.default.div.withConfig({\n\t  displayName: 'StoriesContainer__Wrapper'\n\t})(['display:grid;grid-template-columns:repeat(12,1fr);grid-template-rows:auto;grid-column-gap:1rem;grid-template-areas:\\'. . fs fs fs fs fs fs fs fs . .\\' \\'cont cont cont cont cont cont cont cont cont cont cont cont\\';margin-top:2.5rem;', ' ', ';'], _globalStyle.media.giant(_templateObject), _globalStyle.media.tablet(_templateObject2));\n\tvar Container = _styledComponents2.default.div.withConfig({\n\t  displayName: 'StoriesContainer__Container'\n\t})(['grid-area:cont;display:flex;flex-direction:column;align-content:center;']);\n\t\n\tvar StoriesContainer = function (_React$Component) {\n\t  _inherits(StoriesContainer, _React$Component);\n\t\n\t  function StoriesContainer(props) {\n\t    _classCallCheck(this, StoriesContainer);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.state = {\n\t      searchQuery: '',\n\t      blog: _this.props.initialBlog,\n\t      firstItem: 0,\n\t      activePage: 0\n\t    };\n\t    _this.CARDS = { cols: 2, items: 6 };\n\t\n\t    _this.changePage = _this.changePage.bind(_this);\n\t    _this.handleSort = _this.handleSort.bind(_this);\n\t    _this.handleSearch = _this.handleSearch.bind(_this);\n\t    _this.handleInput = _this.handleInput.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  // \"in-page\" pagination\n\t\n\t\n\t  StoriesContainer.prototype.changePage = function changePage(num) {\n\t    var _state = this.state,\n\t        firstItem = _state.firstItem,\n\t        blog = _state.blog,\n\t        activePage = _state.activePage,\n\t        _props = this.props,\n\t        numStories = _props.numStories,\n\t        pages = _props.pages;\n\t\n\t\n\t    var maxLength = blog.length - 1;\n\t\n\t    var previous = firstItem - numStories;\n\t    previous = previous < 0 ? 0 : previous;\n\t\n\t    var next = firstItem + numStories;\n\t    next = next > maxLength ? maxLength : next;\n\t\n\t    switch (num) {\n\t      case -1:\n\t        //get previous page\n\t        this.setState({\n\t          firstItem: previous,\n\t          activePage: activePage - 1 < 0 ? 0 : activePage - 1\n\t        });\n\t        return;\n\t      case 0:\n\t        //get next page\n\t        this.setState({\n\t          firstItem: next,\n\t          activePage: activePage + 2 > pages ? pages - 1 : activePage + 1\n\t        });\n\t        return;\n\t      default:\n\t        //get page #num\n\t        this.setState({\n\t          firstItem: numStories * (num - 1),\n\t          activePage: num - 1\n\t        });\n\t        return;\n\t    }\n\t  };\n\t\n\t  // handles sort by 'all', 'by author', and 'top rated'\n\t  ///!!! implement the case for 'top rated'\n\t\n\t\n\t  StoriesContainer.prototype.handleSort = function handleSort(str) {\n\t    var blog = [].concat(this.state.blog),\n\t        loadedBlog = [].concat(this.props.initialBlog);\n\t\n\t    switch (str) {\n\t      case 'all':\n\t        //show all cards\n\t        this.setState({ blog: loadedBlog });\n\t        return;\n\t      case 'by author':\n\t        // sort by author\n\t        this.setState({ blog: this.sortByAuthor(blog) });\n\t        return;\n\t      case 'top rated':\n\t        //sort by rating\n\t        return;\n\t      default:\n\t        return;\n\t    }\n\t  };\n\t\n\t  //!!! must be changed for usage of Contentful\n\t\n\t\n\t  StoriesContainer.prototype.handleSearch = function handleSearch() {\n\t    //imitation of search query\n\t    // if (this.state.searchQuery) {\n\t    //   const searchStr = this.state.searchQuery\n\t    //   fakeStoriesAPISearch(searchStr, this.CARDS.items).then(query =>\n\t    //     this.setState({ query })\n\t    //   )\n\t    // }\n\t  };\n\t\n\t  StoriesContainer.prototype.handleInput = function handleInput(val) {\n\t    this.setState({\n\t      searchQuery: val\n\t    });\n\t  };\n\t\n\t  // slice the array of stories according the limit(numStories) per page\n\t\n\t\n\t  StoriesContainer.prototype.setPagination = function setPagination() {\n\t    var numStories = this.props.numStories,\n\t        _state2 = this.state,\n\t        firstItem = _state2.firstItem,\n\t        blog = _state2.blog;\n\t\n\t    return blog.slice(firstItem, firstItem + numStories);\n\t  };\n\t\n\t  StoriesContainer.prototype.sortByAuthor = function sortByAuthor(arr) {\n\t    var sorted = arr.sort(function (a, b) {\n\t      var authorA = a.node.author.lastName,\n\t          authorB = b.node.author.lastName;\n\t      if (authorA < authorB) {\n\t        return -1;\n\t      }\n\t      if (authorA > authorB) {\n\t        return 1;\n\t      }\n\t      return 0;\n\t    });\n\t    return sorted;\n\t  };\n\t\n\t  StoriesContainer.prototype.render = function render() {\n\t    var arr = this.setPagination();\n\t    //console.log(arr)\n\t    return _react2.default.createElement(\n\t      Wrapper,\n\t      null,\n\t      _react2.default.createElement(_FilterAndSearch2.default, {\n\t        area: 'fs',\n\t        items: this.props.menuFilter,\n\t        changeDates: this.handleSort,\n\t        search: this.handleSearch,\n\t        input: this.handleInput\n\t      }),\n\t      _react2.default.createElement(\n\t        Container,\n\t        null,\n\t        _react2.default.createElement(\n\t          _CardContainer2.default,\n\t          { cols: this.CARDS.cols, story: true },\n\t          arr.map(function (elem) {\n\t            return _react2.default.createElement(_StoryCard2.default, {\n\t              key: elem.node.id,\n\t              title: elem.node.title,\n\t              author: elem.node.author.fullName,\n\t              date: elem.node.publishDate,\n\t              text: elem.node.excerpt.excerpt,\n\t              img: elem.node.featureImage.resolutions.src\n\t            });\n\t          })\n\t        ),\n\t        _react2.default.createElement(_Pagination2.default, {\n\t          onChange: this.changePage,\n\t          background: this.props.theme.white,\n\t          pageNum: this.props.pages,\n\t          active: this.state.activePage\n\t        })\n\t      )\n\t    );\n\t  };\n\t\n\t  return StoriesContainer;\n\t}(_react2.default.Component);\n\t\n\texports.default = (0, _styledComponents.withTheme)(StoriesContainer);\n\t\n\t\n\tStoriesContainer.propTypes = {\n\t  initialBlog: _propTypes2.default.array,\n\t  menuFilter: _propTypes2.default.array.isRequired,\n\t  pages: _propTypes2.default.number.isRequired,\n\t  numStories: _propTypes2.default.number.isRequired,\n\t  theme: _propTypes2.default.PropTypes.oneOfType([_propTypes2.default.func, _propTypes2.default.object])\n\t};\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 55:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\t\n\tvar _templateObject = _taggedTemplateLiteralLoose(['\\n    grid-template-areas:\\n    \\'img img img\\'\\n    \\'text text text\\';\\n    //grid-template-rows: 30% minmax(17em, auto);\\n  '], ['\\n    grid-template-areas:\\n    \\'img img img\\'\\n    \\'text text text\\';\\n    //grid-template-rows: 30% minmax(17em, auto);\\n  ']),\n\t    _templateObject2 = _taggedTemplateLiteralLoose(['\\n    margin: 0;\\n  '], ['\\n    margin: 0;\\n  ']),\n\t    _templateObject3 = _taggedTemplateLiteralLoose(['\\n    width: 6rem;\\n    height: 6rem;\\n  '], ['\\n    width: 6rem;\\n    height: 6rem;\\n  ']),\n\t    _templateObject4 = _taggedTemplateLiteralLoose(['\\n    justify-content: space-between;\\n  '], ['\\n    justify-content: space-between;\\n  ']),\n\t    _templateObject5 = _taggedTemplateLiteralLoose(['\\n    padding-top: 0;\\n    margin-top: 0.5rem;\\n    //margin-bottom: auto;\\n  '], ['\\n    padding-top: 0;\\n    margin-top: 0.5rem;\\n    //margin-bottom: auto;\\n  ']),\n\t    _templateObject6 = _taggedTemplateLiteralLoose(['\\n    padding: 0 0.3rem;\\n    margin-top: 0;\\n  '], ['\\n    padding: 0 0.3rem;\\n    margin-top: 0;\\n  ']),\n\t    _templateObject7 = _taggedTemplateLiteralLoose(['\\n  grid-column: 1 / span 4;\\n  color: ', ';\\n  margin: 0.5rem 0;\\n  padding: 0;\\n  text-align: center;\\n  font-size: 1.5rem;\\n  ', ' ', ';\\n'], ['\\n  grid-column: 1 / span 4;\\n  color: ', ';\\n  margin: 0.5rem 0;\\n  padding: 0;\\n  text-align: center;\\n  font-size: 1.5rem;\\n  ', ' ', ';\\n']),\n\t    _templateObject8 = _taggedTemplateLiteralLoose(['\\n    font-size: 1.2rem;\\n  '], ['\\n    font-size: 1.2rem;\\n  ']),\n\t    _templateObject9 = _taggedTemplateLiteralLoose(['\\n    padding: 0.5rem 0.5rem 0 0.5rem;\\n    font-size: 1.25rem;\\n  '], ['\\n    padding: 0.5rem 0.5rem 0 0.5rem;\\n    font-size: 1.25rem;\\n  ']),\n\t    _templateObject10 = _taggedTemplateLiteralLoose(['\\n  grid-column: 1 / span 4;\\n  color: ', ';\\n  margin: 0.25em;\\n  padding: 0;\\n  font-size: 1.1rem;\\n  text-align: center;\\n  ', ' ', ';\\n'], ['\\n  grid-column: 1 / span 4;\\n  color: ', ';\\n  margin: 0.25em;\\n  padding: 0;\\n  font-size: 1.1rem;\\n  text-align: center;\\n  ', ' ', ';\\n']),\n\t    _templateObject11 = _taggedTemplateLiteralLoose(['\\n    font-size: 1rem;\\n  '], ['\\n    font-size: 1rem;\\n  ']),\n\t    _templateObject12 = _taggedTemplateLiteralLoose(['\\n    margin: 0.5rem;\\n  '], ['\\n    margin: 0.5rem;\\n  ']),\n\t    _templateObject13 = _taggedTemplateLiteralLoose(['\\n  grid-column: 1 / span 4;\\n  color: ', ';\\n  padding: 0;\\n  margin: 0.25rem;\\n  font-size: 1rem;\\n  text-align: center;\\n'], ['\\n  grid-column: 1 / span 4;\\n  color: ', ';\\n  padding: 0;\\n  margin: 0.25rem;\\n  font-size: 1rem;\\n  text-align: center;\\n']),\n\t    _templateObject14 = _taggedTemplateLiteralLoose(['\\n  grid-column: 1 / span 4;\\n  color: ', ';\\n  margin: 0.2rem 0.2rem 1.2rem 0.2rem;\\n  padding: 0 0.5em;\\n  min-height: 8rem;\\n  font-size: 1.125rem;\\n  ', ' ', ' ', ';\\n'], ['\\n  grid-column: 1 / span 4;\\n  color: ', ';\\n  margin: 0.2rem 0.2rem 1.2rem 0.2rem;\\n  padding: 0 0.5em;\\n  min-height: 8rem;\\n  font-size: 1.125rem;\\n  ', ' ', ' ', ';\\n']),\n\t    _templateObject15 = _taggedTemplateLiteralLoose(['\\n    font-size: 1.1rem;\\n    min-height: 6rem;\\n  '], ['\\n    font-size: 1.1rem;\\n    min-height: 6rem;\\n  ']),\n\t    _templateObject16 = _taggedTemplateLiteralLoose(['\\n    margin-top:0;\\n    padding: 0 0.25rem;\\n    font-size: 1.05rem;\\n  '], ['\\n    margin-top:0;\\n    padding: 0 0.25rem;\\n    font-size: 1.05rem;\\n  ']),\n\t    _templateObject17 = _taggedTemplateLiteralLoose(['\\n    margin-bottom: 1rem;\\n  '], ['\\n    margin-bottom: 1rem;\\n  ']),\n\t    _templateObject18 = _taggedTemplateLiteralLoose(['\\n    margin-bottom: 0.5rem;\\n    & > button {\\n      padding: 0.75rem 1.5rem;\\n    }\\n  '], ['\\n    margin-bottom: 0.5rem;\\n    & > button {\\n      padding: 0.75rem 1.5rem;\\n    }\\n  ']);\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _propTypes = __webpack_require__(2);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _styledComponents = __webpack_require__(5);\n\t\n\tvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\t\n\tvar _globalStyle = __webpack_require__(6);\n\t\n\tvar _Button = __webpack_require__(52);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\t\n\tvar Wrapper = _styledComponents2.default.div.withConfig({\n\t  displayName: 'StoryCard__Wrapper'\n\t})(['display:grid;grid-template-columns:1fr 2fr;grid-template-rows:auto;grid-template-areas:\\'img text text\\';background:', ';border-radius:4px;', ' ', ';'], function (props) {\n\t  return props.theme.primary.light;\n\t}, _globalStyle.media.tablet(_templateObject), _globalStyle.media.phone(_templateObject2));\n\tvar Image = _styledComponents2.default.img.withConfig({\n\t  displayName: 'StoryCard__Image'\n\t})(['grid-area:img;justify-self:center;margin:1.3rem 0.5rem 0.5rem 0.5rem;border-radius:90px;border:1px solid ', ';width:8rem;height:8rem;', ';'], function (props) {\n\t  return props.theme.secondary.yellow;\n\t}, _globalStyle.media.desktop(_templateObject3));\n\t\n\tvar Text = _styledComponents2.default.div.withConfig({\n\t  displayName: 'StoryCard__Text'\n\t})(['grid-area:text;padding:0.5rem;margin:0.5rem;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;', ' ', ' ', ';'], _globalStyle.media.desktop(_templateObject4), _globalStyle.media.tablet(_templateObject5), _globalStyle.media.phone(_templateObject6));\n\t\n\tvar StoryTitle = _globalStyle.StyledH3.extend(_templateObject7, function (props) {\n\t  return props.theme.white;\n\t}, _globalStyle.media.desktop(_templateObject8), _globalStyle.media.phone(_templateObject9));\n\t\n\tvar StoryAuthor = _globalStyle.StyledH4.extend(_templateObject10, function (props) {\n\t  return props.theme.secondary.green;\n\t}, _globalStyle.media.desktop(_templateObject11), _globalStyle.media.phone(_templateObject12));\n\t\n\tvar StoryDate = _globalStyle.StyledP.extend(_templateObject13, function (props) {\n\t  return props.theme.secondary.yellow;\n\t});\n\t\n\tvar StoryText = _globalStyle.StyledP.extend(_templateObject14, function (props) {\n\t  return props.theme.white;\n\t}, _globalStyle.media.giant(_templateObject15), _globalStyle.media.desktop(_templateObject11), _globalStyle.media.phone(_templateObject16));\n\t\n\tvar ButtonContainer = _styledComponents2.default.div.withConfig({\n\t  displayName: 'StoryCard__ButtonContainer'\n\t})(['grid-column:1 / span 4;align-self:center;justify-self:center;margin-top:auto;', ' ', ';'], _globalStyle.media.desktop(_templateObject17), _globalStyle.media.tablet(_templateObject18));\n\t\n\tvar StoryCard = function (_React$Component) {\n\t  _inherits(StoryCard, _React$Component);\n\t\n\t  function StoryCard() {\n\t    _classCallCheck(this, StoryCard);\n\t\n\t    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t  }\n\t\n\t  StoryCard.prototype.formatDate = function formatDate(date) {\n\t    var publishDate = new Date(date),\n\t        months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n\t\n\t    return 'Published: ' + publishDate.getDate() + ' ' + months[publishDate.getMonth()] + ' ' + publishDate.getFullYear();\n\t  };\n\t\n\t  StoryCard.prototype.readStory = function readStory(event) {\n\t    console.log('button is clicked');\n\t  };\n\t\n\t  StoryCard.prototype.render = function render() {\n\t    var _this2 = this;\n\t\n\t    var _props = this.props,\n\t        img = _props.img,\n\t        title = _props.title,\n\t        author = _props.author,\n\t        date = _props.date,\n\t        text = _props.text;\n\t\n\t    return _react2.default.createElement(\n\t      Wrapper,\n\t      null,\n\t      _react2.default.createElement(Image, { src: img, alt: title }),\n\t      _react2.default.createElement(\n\t        Text,\n\t        null,\n\t        _react2.default.createElement(\n\t          StoryTitle,\n\t          null,\n\t          title\n\t        ),\n\t        _react2.default.createElement(\n\t          StoryAuthor,\n\t          null,\n\t          'Author: ' + author\n\t        ),\n\t        _react2.default.createElement(\n\t          StoryDate,\n\t          null,\n\t          this.formatDate(date)\n\t        ),\n\t        _react2.default.createElement(\n\t          StoryText,\n\t          null,\n\t          text\n\t        ),\n\t        _react2.default.createElement(\n\t          ButtonContainer,\n\t          null,\n\t          _react2.default.createElement(\n\t            _Button.ButtonBig,\n\t            {\n\t              color: function color(props) {\n\t                return props.theme.white;\n\t              },\n\t              border: function border(props) {\n\t                return props.theme.white;\n\t              },\n\t              onClick: function onClick(e) {\n\t                return _this2.readStory(e);\n\t              } },\n\t            'read more'\n\t          )\n\t        )\n\t      )\n\t    );\n\t  };\n\t\n\t  return StoryCard;\n\t}(_react2.default.Component);\n\t\n\tStoryCard.propTypes = {\n\t  title: _propTypes2.default.string,\n\t  author: _propTypes2.default.string,\n\t  date: _propTypes2.default.string,\n\t  text: _propTypes2.default.string,\n\t  img: _propTypes2.default.string\n\t};\n\t\n\texports.default = StoryCard;\n\tmodule.exports = exports['default'];\n\n/***/ }),\n\n/***/ 251:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.query = undefined;\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _Hero = __webpack_require__(33);\n\t\n\tvar _Hero2 = _interopRequireDefault(_Hero);\n\t\n\tvar _StoriesContainer = __webpack_require__(242);\n\t\n\tvar _StoriesContainer2 = _interopRequireDefault(_StoriesContainer);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t// \"in page\" pagination of stories\n\t// can be changed when the number of stories would grow significantly\n\t// example: https://www.gatsbycentral.com/pagination-in-gatsby\n\tvar storiesPerPage = 4;\n\t\n\tvar StoriesPage = function StoriesPage(_ref) {\n\t  var data = _ref.data;\n\t  var site = data.site,\n\t      blog = data.allContentfulBlog,\n\t      pages = Math.ceil(blog.edges.length / storiesPerPage);\n\t\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    null,\n\t    _react2.default.createElement(_Hero2.default, { type: 'stories' }),\n\t    _react2.default.createElement(_StoriesContainer2.default, {\n\t      menuFilter: site.siteMetadata.filterOptions.stories,\n\t      initialBlog: blog.edges,\n\t      pages: pages,\n\t      numStories: storiesPerPage\n\t    })\n\t  );\n\t};\n\t\n\tvar query = exports.query = '** extracted graphql fragment **';\n\t\n\texports.default = StoriesPage;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-pages-stories-js-575244a12e5cec5c3e95.js","import React from 'react'\nimport styled from 'styled-components'\nimport { withTheme } from 'styled-components'\nimport PropTypes from 'prop-types'\n\nimport { media } from '../theme/globalStyle'\nimport FilterAndSearch from './FilterAndSearch'\nimport CardContainer from './CardContainer'\nimport StoryCard from './StoryCard'\nimport Pagination from './Pagination'\nimport { fakeStoriesAPISearch } from '../utils/api'\n\nconst Wrapper = styled.div`\n  display: grid;\n  grid-template-columns: repeat(12, 1fr);\n  grid-template-rows: auto;\n  grid-column-gap: 1rem;\n  grid-template-areas:\n    '. . fs fs fs fs fs fs fs fs . .'\n    'cont cont cont cont cont cont cont cont cont cont cont cont';\n  margin-top: 2.5rem;\n  ${media.giant`\n    grid-column-gap: 0.5rem;\n    grid-template-areas:\n      '. fs fs fs fs fs fs fs fs fs fs .'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  `} ${media.tablet`\n    grid-template-areas:\n      'fs fs fs fs fs fs fs fs fs fs fs fs'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  `};\n`\nconst Container = styled.div`\n  grid-area: cont;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n`\n\nclass StoriesContainer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      searchQuery: '',\n      blog: this.props.initialBlog,\n      firstItem: 0,\n      activePage: 0\n    }\n    this.CARDS = { cols: 2, items: 6 }\n\n    this.changePage = this.changePage.bind(this)\n    this.handleSort = this.handleSort.bind(this)\n    this.handleSearch = this.handleSearch.bind(this)\n    this.handleInput = this.handleInput.bind(this)\n  }\n\n  // \"in-page\" pagination\n  changePage(num) {\n    const { firstItem, blog, activePage } = this.state,\n      { numStories, pages } = this.props\n\n    const maxLength = blog.length - 1\n\n    let previous = firstItem - numStories\n    previous = previous < 0 ? 0 : previous\n\n    let next = firstItem + numStories\n    next = next > maxLength ? maxLength : next\n\n    switch (num) {\n      case -1: //get previous page\n        this.setState({\n          firstItem: previous,\n          activePage: activePage - 1 < 0 ? 0 : activePage - 1\n        })\n        return\n      case 0: //get next page\n        this.setState({\n          firstItem: next,\n          activePage:\n            activePage + 2 > pages ? pages - 1 : activePage + 1\n        })\n        return\n      default:\n        //get page #num\n        this.setState({\n          firstItem: numStories * (num - 1),\n          activePage: num - 1\n        })\n        return\n    }\n  }\n\n  // handles sort by 'all', 'by author', and 'top rated'\n  ///!!! implement the case for 'top rated'\n  handleSort(str) {\n    const blog = [...this.state.blog],\n      loadedBlog = [...this.props.initialBlog]\n\n    switch (str) {\n      case 'all':\n        //show all cards\n        this.setState({ blog: loadedBlog })\n        return\n      case 'by author':\n        // sort by author\n        this.setState({ blog: this.sortByAuthor(blog) })\n        return\n      case 'top rated':\n        //sort by rating\n        return\n      default:\n        return\n    }\n  }\n\n  //!!! must be changed for usage of Contentful\n  handleSearch() {\n    //imitation of search query\n    // if (this.state.searchQuery) {\n    //   const searchStr = this.state.searchQuery\n    //   fakeStoriesAPISearch(searchStr, this.CARDS.items).then(query =>\n    //     this.setState({ query })\n    //   )\n    // }\n  }\n\n  handleInput(val) {\n    this.setState({\n      searchQuery: val\n    })\n  }\n\n  // slice the array of stories according the limit(numStories) per page\n  setPagination() {\n    const { numStories } = this.props,\n      { firstItem, blog } = this.state\n    return blog.slice(firstItem, firstItem + numStories)\n  }\n\n  sortByAuthor(arr) {\n    const sorted = arr.sort((a, b) => {\n      const authorA = a.node.author.lastName,\n        authorB = b.node.author.lastName\n      if (authorA < authorB) {\n        return -1\n      }\n      if (authorA > authorB) {\n        return 1\n      }\n      return 0\n    })\n    return sorted\n  }\n\n  render() {\n    const arr = this.setPagination()\n    //console.log(arr)\n    return (\n      <Wrapper>\n        <FilterAndSearch\n          area=\"fs\"\n          items={this.props.menuFilter}\n          changeDates={this.handleSort}\n          search={this.handleSearch}\n          input={this.handleInput}\n        />\n        <Container>\n          <CardContainer cols={this.CARDS.cols} story={true}>\n            {arr.map(elem => (\n              <StoryCard\n                key={elem.node.id}\n                title={elem.node.title}\n                author={elem.node.author.fullName}\n                date={elem.node.publishDate}\n                text={elem.node.excerpt.excerpt}\n                img={elem.node.featureImage.resolutions.src}\n              />\n            ))}\n          </CardContainer>\n          <Pagination\n            onChange={this.changePage}\n            background={this.props.theme.white}\n            pageNum={this.props.pages}\n            active={this.state.activePage}\n          />\n        </Container>\n      </Wrapper>\n    )\n  }\n}\n\nexport default withTheme(StoriesContainer)\n\nStoriesContainer.propTypes = {\n  initialBlog: PropTypes.array,\n  menuFilter: PropTypes.array.isRequired,\n  pages: PropTypes.number.isRequired,\n  numStories: PropTypes.number.isRequired,\n  theme: PropTypes.PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.object\n  ])\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StoriesContainer.js","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\n\nimport {\n  StyledH3,\n  StyledH4,\n  StyledP,\n  media\n} from '../theme/globalStyle'\nimport { ButtonBig } from '../components/Button'\n\nconst Wrapper = styled.div`\n  display: grid;\n  grid-template-columns: 1fr 2fr;\n  grid-template-rows: auto;\n  grid-template-areas: 'img text text';\n  background: ${props => props.theme.primary.light};\n  border-radius: 4px;\n  ${media.tablet`\n    grid-template-areas:\n    'img img img'\n    'text text text';\n    //grid-template-rows: 30% minmax(17em, auto);\n  `} ${media.phone`\n    margin: 0;\n  `};\n`\nconst Image = styled.img`\n  grid-area: img;\n  justify-self: center;\n  margin: 1.3rem 0.5rem 0.5rem 0.5rem;\n  border-radius: 90px;\n  border: 1px solid ${props => props.theme.secondary.yellow};\n  width: 8rem;\n  height: 8rem;\n  ${media.desktop`\n    width: 6rem;\n    height: 6rem;\n  `};\n`\n\nconst Text = styled.div`\n  grid-area: text;\n  padding: 0.5rem;\n  margin: 0.5rem;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  ${media.desktop`\n    justify-content: space-between;\n  `} ${media.tablet`\n    padding-top: 0;\n    margin-top: 0.5rem;\n    //margin-bottom: auto;\n  `} ${media.phone`\n    padding: 0 0.3rem;\n    margin-top: 0;\n  `};\n`\n\nconst StoryTitle = StyledH3.extend`\n  grid-column: 1 / span 4;\n  color: ${props => props.theme.white};\n  margin: 0.5rem 0;\n  padding: 0;\n  text-align: center;\n  font-size: 1.5rem;\n  ${media.desktop`\n    font-size: 1.2rem;\n  `} ${media.phone`\n    padding: 0.5rem 0.5rem 0 0.5rem;\n    font-size: 1.25rem;\n  `};\n`\n\nconst StoryAuthor = StyledH4.extend`\n  grid-column: 1 / span 4;\n  color: ${props => props.theme.secondary.green};\n  margin: 0.25em;\n  padding: 0;\n  font-size: 1.1rem;\n  text-align: center;\n  ${media.desktop`\n    font-size: 1rem;\n  `} ${media.phone`\n    margin: 0.5rem;\n  `};\n`\n\nconst StoryDate = StyledP.extend`\n  grid-column: 1 / span 4;\n  color: ${props => props.theme.secondary.yellow};\n  padding: 0;\n  margin: 0.25rem;\n  font-size: 1rem;\n  text-align: center;\n`\n\nconst StoryText = StyledP.extend`\n  grid-column: 1 / span 4;\n  color: ${props => props.theme.white};\n  margin: 0.2rem 0.2rem 1.2rem 0.2rem;\n  padding: 0 0.5em;\n  min-height: 8rem;\n  font-size: 1.125rem;\n  ${media.giant`\n    font-size: 1.1rem;\n    min-height: 6rem;\n  `} ${media.desktop`\n    font-size: 1rem;\n  `} ${media.phone`\n    margin-top:0;\n    padding: 0 0.25rem;\n    font-size: 1.05rem;\n  `};\n`\n\nconst ButtonContainer = styled.div`\n  grid-column: 1 / span 4;\n  align-self: center;\n  justify-self: center;\n  margin-top: auto;\n  ${media.desktop`\n    margin-bottom: 1rem;\n  `} ${media.tablet`\n    margin-bottom: 0.5rem;\n    & > button {\n      padding: 0.75rem 1.5rem;\n    }\n  `};\n`\n\nclass StoryCard extends React.Component {\n  formatDate(date) {\n    const publishDate = new Date(date),\n      months = [\n        'Jan',\n        'Feb',\n        'Mar',\n        'Apr',\n        'May',\n        'Jun',\n        'Jul',\n        'Aug',\n        'Sep',\n        'Oct',\n        'Nov',\n        'Dec'\n      ]\n\n    return `Published: ${publishDate.getDate()} ${\n      months[publishDate.getMonth()]\n    } ${publishDate.getFullYear()}`\n  }\n\n  readStory(event) {\n    console.log('button is clicked')\n  }\n\n  render() {\n    const { img, title, author, date, text } = this.props\n    return (\n      <Wrapper>\n        <Image src={img} alt={title} />\n        <Text>\n          <StoryTitle>{title}</StoryTitle>\n          <StoryAuthor>{`Author: ${author}`}</StoryAuthor>\n          <StoryDate>{this.formatDate(date)}</StoryDate>\n          <StoryText>{text}</StoryText>\n          <ButtonContainer>\n            <ButtonBig\n              color={props => props.theme.white}\n              border={props => props.theme.white}\n              onClick={e => this.readStory(e)}>\n              read more\n            </ButtonBig>\n          </ButtonContainer>\n        </Text>\n      </Wrapper>\n    )\n  }\n}\n\nStoryCard.propTypes = {\n  title: PropTypes.string,\n  author: PropTypes.string,\n  date: PropTypes.string,\n  text: PropTypes.string,\n  img: PropTypes.string\n}\n\nexport default StoryCard\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StoryCard.js","import React from 'react'\n\nimport Hero from '../components/Hero'\nimport StoriesContainer from '../components/StoriesContainer'\n\n// \"in page\" pagination of stories\n// can be changed when the number of stories would grow significantly\n// example: https://www.gatsbycentral.com/pagination-in-gatsby\nconst storiesPerPage = 4\n\nconst StoriesPage = ({ data }) => {\n  const { site, allContentfulBlog: blog } = data,\n    pages = Math.ceil(blog.edges.length / storiesPerPage)\n\n  return (\n    <div>\n      <Hero type=\"stories\" />\n      <StoriesContainer\n        menuFilter={site.siteMetadata.filterOptions.stories}\n        initialBlog={blog.edges}\n        pages={pages}\n        numStories={storiesPerPage}\n      />\n    </div>\n  )\n}\n\nexport const query = graphql`\n  query StoriesQuery {\n    site {\n      siteMetadata {\n        filterOptions {\n          stories\n        }\n      }\n    }\n    allContentfulBlog(sort: { fields: [publishDate], order: DESC }) {\n      edges {\n        node {\n          id\n          title\n          slug\n          publishDate\n          author {\n            fullName\n            lastName\n            contact\n            bio {\n              bio\n            }\n          }\n          excerpt {\n            excerpt\n          }\n          content {\n            content\n          }\n          featureImage {\n            resolutions(width: 130, height: 130) {\n              src\n            }\n          }\n        }\n      }\n    }\n  }\n`\n\nexport default StoriesPage\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/stories.js"],"sourceRoot":""}