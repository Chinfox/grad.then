{"version":3,"sources":["webpack:///component---src-templates-story-blog-js-261a8093c5b88aea16f9.js","webpack:///./src/components/StoriesContainer.js?d574","webpack:///./src/templates/storyBlog.js"],"names":["webpackJsonp","98","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_taggedTemplateLiteralLoose","strings","raw","Wrapper","undefined","_templateObject","_templateObject2","_react","_react2","_styledComponents","_styledComponents2","_propTypes","_propTypes2","_globalStyle","_FilterAndSearch","_FilterAndSearch2","_CardContainer","_CardContainer2","_StoryCard","_StoryCard2","_Pagination","_Pagination2","styled","div","withConfig","displayName","media","giant","tablet","Container","StoriesContainer","_React$Component","props","this","_this","state","searchQuery","blog","initialBlog","firstItem","activePage","CARDS","cols","items","changePage","bind","handleSort","handleSearch","handleInput","num","_state","_props","numStories","pages","maxLength","length","previous","next","setState","str","loadedBlog","sortBy","concat","val","setPagination","_state2","slice","sortField","arr","sorted","sort","a","b","elemA","elemB","node","lastName","content","childMarkdownRemark","render","createElement","area","menuFilter","changeDates","search","input","story","map","elem","key","id","title","slug","author","fullName","date","publishDate","text","excerpt","tags","img","featureImage","resolutions","src","time","timeToRead","onChange","background","theme","white","pageNum","active","React","Component","withTheme","propTypes","PropTypes","array","isRequired","number","oneOfType","func","object","341","252","storyBlogQuery","_templateObject3","_templateObject4","_templateObject5","_templateObject6","_templateObject7","_templateObject8","_templateObject9","_templateObject10","_templateObject11","_templateObject12","_templateObject13","_templateObject14","_templateObject15","_templateObject16","_templateObject17","_templateObject18","_templateObject19","_templateObject20","_templateObject21","_templateObject22","_templateObject23","_templateObject24","_gatsbyLink","_Hero","_Hero2","_StoriesContainer","_Button","_storyBlogModule","ArticleButton","ButtonSmall","withComponent","FollowButton","extend","secondary","green","phone","BackButton","Button","red","BackButtonContainer","ArticleContainer","ArticlePanel","primary","light","ArticleTitle","StyledH1","desktop","ArticleAuthor","StyledH3","AuthorBio","StyledP","shades","dark","ArticleDate","ArticleSource","StyledLink","StyledA","tints","brightgreen","ArticleTag","Tag","ArticleContent","article","StoryBlog","_ref","data","location","goBack","navigateTo","_data$contentfulBlog","contentfulBlog","source","pathname","type","color","href","contact","trim","bio","dangerouslySetInnerHTML","__html","html","className","onClick"],"mappings":"AAAAA,cAAc,iBAERC,GACA,SAAUC,EAAQC,EAASC,GAEhC,YAsCA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASG,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYC,OAAOC,OAAOH,GAAcA,EAAWC,WAAaG,aAAeC,MAAON,EAAUO,YAAY,EAAOC,UAAU,EAAMC,cAAc,KAAeR,IAAYE,OAAOO,eAAiBP,OAAOO,eAAeV,EAAUC,GAAcD,EAASW,UAAYV,GAEje,QAASW,GAA4BC,EAASC,GAA0B,MAAnBD,GAAQC,IAAMA,EAAYD,EA5C/E5B,EAAQI,YAAa,EACrBJ,EAAQ8B,QAAUC,MAElB,IAAIC,GAAkBL,GAA6B,kLAAuL,kLACtOM,EAAmBN,GAA6B,sJAA2J,sJCXhNO,EAAAjC,EAAA,GDeKkC,EAAUjC,EAAuBgC,GCdtCE,EAAAnC,EAAA,GDkBKoC,EAAqBnC,EAAuBkC,GChBjDE,EAAArC,EAAA,GDoBKsC,EAAcrC,EAAuBoC,GClB1CE,EAAAvC,EAAA,GACAwC,EAAAxC,EAAA,IDuBKyC,EAAoBxC,EAAuBuC,GCtBhDE,EAAA1C,EAAA,ID0BK2C,EAAkB1C,EAAuByC,GCzB9CE,EAAA5C,EAAA,ID6BK6C,EAAc5C,EAAuB2C,GC5B1CE,EAAA9C,EAAA,IDgCK+C,EAAe9C,EAAuB6C,GC9B9BjB,YAAUmB,UAAOC,IAAjBC,YAAAC,YAAA,gRASTC,QAAMC,MATGtB,GAcNqB,QAAME,OAdAtB,IAoBPuB,EAAYP,UAAOC,IAAnBC,YAAAC,YAAA,6GAOAK,EDsBkB,SAAUC,GCrBhC,QAAAD,GAAYE,GAAOrD,EAAAsD,KAAAH,EAAA,IAAAI,GAAAnD,EAAAkD,KACjBF,EAAA9C,KAAAgD,KAAMD,GADW,OAEjBE,GAAKC,OACHC,YAAa,GACbC,KAAMH,EAAKF,MAAMM,YACjBC,UAAW,EACXC,WAAY,GAEdN,EAAKO,OAAUC,KAAM,EAAGC,MAAO,GAE/BT,EAAKU,WAAaV,EAAKU,WAAWC,KAAhBX,GAClBA,EAAKY,WAAaZ,EAAKY,WAAWD,KAAhBX,GAClBA,EAAKa,aAAeb,EAAKa,aAAaF,KAAlBX,GACpBA,EAAKc,YAAcd,EAAKc,YAAYH,KAAjBX,GAbFA,ED4NlB,MAtMA/C,GAAU2C,EAAkBC,GAyB5BD,EAAiBxC,UC9BlBsD,WD8ByC,SC9B9BK,GAAK,GAAAC,GAC0BjB,KAAKE,MAArCI,EADMW,EACNX,UAAWF,EADLa,EACKb,KAAMG,EADXU,EACWV,WADXW,EAEYlB,KAAKD,MAA3BoB,EAFUD,EAEVC,WAAYC,EAFFF,EAEEE,MAEVC,EAAYjB,EAAKkB,OAAS,EAE5BC,EAAWjB,EAAYa,CAC3BI,GAAWA,EAAW,EAAI,EAAIA,CAE9B,IAAIC,GAAOlB,EAAYa,CAGvB,QAFAK,EAAOA,EAAOH,EAAYA,EAAYG,EAE9BR,GACN,KAAK,EAKH,WAJAhB,MAAKyB,UACHnB,UAAWiB,EACXhB,WAAYA,EAAa,EAAI,EAAI,EAAIA,EAAa,GAGtD,KAAK,GAMH,WALAP,MAAKyB,UACHnB,UAAWkB,EACXjB,WACEA,EAAa,EAAIa,EAAQA,EAAQ,EAAIb,EAAa,GAGxD,SAME,WAJAP,MAAKyB,UACHnB,UAAWa,GAAcH,EAAM,GAC/BT,WAAYS,EAAM,MD8CzBnB,EAAiBxC,UCvClBwD,WDuCyC,SCvC9Ba,GACT,GAAMtB,aAAWJ,KAAKE,MAAME,MAC1BuB,YAAiB3B,KAAKD,MAAMM,YAE9B,QAAQqB,GACN,IAAK,MAGH,WADA1B,MAAKyB,UAAWrB,KAAMuB,GAExB,KAAK,YAGH,WADA3B,MAAKyB,UAAWrB,KAAMJ,KAAK4B,OAAO,SAAUxB,IAE9C,KAAK,WAGH,WADAJ,MAAKyB,UAAWrB,KAAMJ,KAAK4B,OAAO,QAASxB,IAE7C,KAAK,YAGH,WADAJ,MAAKyB,UAAWrB,KAAMJ,KAAK4B,OAAO,aAAcxB,IAElD,SACE,SD8CLP,EAAiBxC,UCzClByD,aDyC2C,cCvCnCe,OAAiB7B,KAAKD,MAAMM,aACdL,KAAKE,MAArBC,aDiDLN,EAAiBxC,UC1ClB0D,YD0C0C,SC1C9Be,GACV9B,KAAKyB,UACHtB,YAAa2B,KDiDhBjC,EAAiBxC,UC5ClB0E,cD4C4C,WC3CpC,GAAEZ,GAAenB,KAAKD,MAApBoB,WAAFa,EACkBhC,KAAKE,MAAzBI,EADE0B,EACF1B,UAAWF,EADT4B,EACS5B,IACf,OAAOA,GAAK6B,MAAM3B,EAAWA,EAAYa,IDkD1CtB,EAAiBxC,UC/ClBuE,OD+CqC,SC/C9BM,EAAWC,GAChB,GAAMC,GAASD,EAAIE,KAAK,SAACC,EAAGC,GAC1B,GAAIC,UAAOC,QAYX,OAXkB,WAAdP,GACFM,EAAQF,EAAEI,KAAKR,GAAWS,SAC1BF,EAAQF,EAAEG,KAAKR,GAAWS,UACH,UAAdT,GACTM,EAAQF,EAAEI,KAAKR,GACfO,EAAQF,EAAEG,KAAKR,KAEfM,EAAQF,EAAEI,KAAKE,QAAQC,oBAAoBX,GAC3CO,EAAQF,EAAEG,KAAKE,QAAQC,oBAAoBX,IAGzCM,EAAQC,GACH,EAELD,EAAQC,EACH,EAEF,GAET,OAAOL,IDmDRvC,EAAiBxC,UChDlByF,ODgDqC,WC/CnC,GAAMX,GAAMnC,KAAK+B,eAEjB,OACExD,GAAA9B,QAAAsG,cAAC7E,EAAD,KACEK,EAAA9B,QAAAsG,cAACjE,EAAArC,SACCuG,KAAK,KACLtC,MAAOV,KAAKD,MAAMkD,WAClBC,YAAalD,KAAKa,WAClBsC,OAAQnD,KAAKc,aACbsC,MAAOpD,KAAKe,cAEdxC,EAAA9B,QAAAsG,cAACnD,EAAD,KACErB,EAAA9B,QAAAsG,cAAC/D,EAAAvC,SAAcgE,KAAMT,KAAKQ,MAAMC,KAAM4C,OAAO,GAC1ClB,EAAImB,IAAI,SAAAC,GAAA,MACPhF,GAAA9B,QAAAsG,cAAC7D,EAAAzC,SACC+G,IAAKD,EAAKb,KAAKe,GACfC,MAAOH,EAAKb,KAAKgB,MACjBC,KAAMJ,EAAKb,KAAKiB,KAChBC,OAAQL,EAAKb,KAAKkB,OAAOC,SACzBC,KAAMP,EAAKb,KAAKqB,YAChBC,KAAMT,EAAKb,KAAKE,QAAQC,oBAAoBoB,QAC5CC,KAAMX,EAAKb,KAAKwB,KAChBC,IAAKZ,EAAKb,KAAK0B,aAAaC,YAAYC,IACxCC,KACEhB,EAAKb,KAAKE,QAAQC,oBAAoB2B,gBAK9CjG,EAAA9B,QAAAsG,cAAC3D,EAAA3C,SACCgI,SAAUzE,KAAKW,WACf+D,WAAY1E,KAAKD,MAAM4E,MAAMC,MAC7BC,QAAS7E,KAAKD,MAAMqB,MACpB0D,OAAQ9E,KAAKE,MAAMK,gBDyDrBV,GC7NqBkF,UAAMC,UDgOpC5I,GAAQK,SCpDM,EAAA+B,EAAAyG,WAAUpF,GAEzBA,EAAiBqF,WACf7E,YAAa8E,UAAUC,MACvBnC,WAAYkC,UAAUC,MAAMC,WAC5BjE,MAAO+D,UAAUG,OAAOD,WACxBlE,WAAYgE,UAAUG,OAAOD,WAC7BV,MAAOQ,UAAUA,UAAUI,WACzBJ,UAAUK,KACVL,UAAUM,WDwDRC,IACA,SAAUvJ,EAAQC,KAMlBuJ,IACA,SAAUxJ,EAAQC,EAASC,GAEhC,YA4DA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASwB,GAA4BC,EAASC,GAA0B,MAAnBD,GAAQC,IAAMA,EAAYD,EA5D/E5B,EAAQI,YAAa,EACrBJ,EAAQwJ,eAAiBzH,MAEzB,IAAIC,GAAkBL,GAA6B,kJAAmJ,mCAAoC,QAAS,kJAAmJ,mCAAoC,QACtaM,EAAmBN,GAA6B,2FAA4F,2FAC5I8H,EAAmB9H,GAA6B,6FAA8F,aAAc,QAAS,6FAA8F,aAAc,QACjR+H,EAAmB/H,GAA6B,8BAA+B,8BAC/EgI,EAAmBhI,GAA6B,+MAAsN,IAAK,QAAS,+MAAsN,IAAK,QAC/eiI,EAAmBjI,GAA6B,oNAA2N,oNAC3QkI,EAAmBlI,GAA6B,qOAA4O,qOAC5RmI,EAAmBnI,GAA6B,iCAAkC,iCAClFoI,EAAmBpI,GAA6B,qCAAsC,4BAA6B,IAAK,QAAS,qCAAsC,4BAA6B,IAAK,QACzMqI,EAAoBrI,GAA6B,2DAA4D,2DAC7GsI,EAAoBtI,GAA6B,uDAAwD,uDACzGuI,EAAoBvI,GAA6B,oDAAqD,IAAK,IAAK,QAAS,oDAAqD,IAAK,IAAK,QACxLwI,EAAoBxI,GAA6B,yDAA0D,yDAC3GyI,EAAoBzI,GAA6B,kCAAmC,kCACpF0I,EAAoB1I,GAA6B,iCAAkC,iCACnF2I,EAAoB3I,GAA6B,+EAAgF,QAAS,QAAS,+EAAgF,QAAS,QAC5O4I,EAAoB5I,GAA6B,wDAAyD,wDAC1G6I,EAAoB7I,GAA6B,0EAA2E,IAAK,QAAS,0EAA2E,IAAK,QAC1N8I,EAAoB9I,GAA6B,qDAAsD,qDACvG+I,EAAoB/I,GAA6B,+BAAgC,+BACjFgJ,EAAoBhJ,GAA6B,OAAQ,IAAK,QAAS,OAAQ,IAAK,QACpFiJ,EAAoBjJ,GAA6B,+BAAgC,+BACjFkJ,EAAoBlJ,GAA6B,kCAAmC,kCACpFmJ,EAAoBnJ,GAA6B,qCAAsC,uDAAwD,8CAA+C,qCAAsC,uDAAwD,8CEzTjSO,EAAAjC,EAAA,GF6TKkC,EAAUjC,EAAuBgC,GE5TtCI,EAAArC,EAAA,GFgUKsC,EAAcrC,EAAuBoC,GE/T1CF,EAAAnC,EAAA,GFmUKoC,EAAqBnC,EAAuBkC,GElUjD2I,EAAA9K,EAAA,IACA+K,EAAA/K,EAAA,IFuUKgL,EAAS/K,EAAuB8K,GEtUrCE,EAAAjL,EAAA,IACA4C,EAAA5C,EAAA,IACAkL,EAAAlL,EAAA,IACAuC,EAAAvC,EAAA,GAQAmL,EAAAnL,EAAA,KAEMoL,GFqUmBnL,EAAuBkL,GErU1BE,cAAYC,cAAc,MAC1CC,EAAeH,EAAcI,OAA7BzJ,EAOO,SAAA2B,GAAA,MAASA,GAAM4E,MAAMmD,UAAUC,OAGxCtI,QAAMuI,MAVJ3J,IAgBA4J,EAAaC,SAAOL,OAApBhC,EAKO,SAAA9F,GAAA,MAASA,GAAM4E,MAAMmD,UAAUK,KAExC1I,QAAMuI,MAPJlC,IAWAsC,EAAsB/I,UAAOC,IAA7BC,YAAAC,YAAA,0HAOA6I,EAAmBnK,UAAQ2J,OAA3B9B,EAKFtG,QAAMC,MALJsG,GAUCvG,QAAME,OAVPsG,IAkBAqC,EAAejJ,UAAOC,IAAtBC,YAAAC,YAAA,oJAIgB,SAAAO,GAAA,MAASA,GAAM4E,MAAM4D,QAAQC,OAG/C/I,QAAME,OAPJuG,IAYAuC,EAAeC,WAASb,OAAxB1B,EAEK,SAAApG,GAAA,MAASA,GAAM4E,MAAM4D,QAAQC,OAEpC/I,QAAMkJ,QAJJvC,GAOC3G,QAAME,OAPP0G,IAaAuC,EAAgBC,WAAShB,OAAzBvB,EAGF7G,QAAMkJ,QAHJpC,GAMC9G,QAAME,OANP6G,GAQC/G,QAAMuI,MARPvB,IAaAqC,EAAYC,UAAQlB,OAApBnB,EAIK,SAAA3G,GAAA,MAASA,GAAM4E,MAAMqE,OAAOC,MACnCxJ,QAAME,OALJgH,IAWAuC,EAAcH,UAAQlB,OAAtBjB,EAIFnH,QAAMkJ,QAJJ9B,GAOCpH,QAAME,OAPPmH,IAYAqC,EAAgBD,EAAYrB,OAA5Bd,EACFtH,QAAMkJ,QADJ3B,GAGCvH,QAAME,OAHPsH,IAQAmC,GAAaC,UAAQxB,OAArBX,EAEK,SAAAnH,GAAA,MAASA,GAAM4E,MAAM2E,MAAMC,aAIzB,SAAAxJ,GAAA,MAASA,GAAM4E,MAAMmD,UAAUK,MAKtCqB,IAAa,EAAA/K,EAAAhC,SAAOgN,OAApBlK,YAAAC,YAAA,kDAIAkK,GAAiBrK,UAAOsK,QAAxBpK,YAAAC,YAAA,iEAKAoK,GAAY,SAAAC,GAAwB,GAArBC,GAAqBD,EAArBC,KAAMC,EAAeF,EAAfE,SAEnBC,EAAS,kBAAM,EAAA7C,EAAA8C,YAAW,aAFQC,EASpCJ,EAAKK,eALPzG,EAJsCwG,EAItCxG,MACAK,EALsCmG,EAKtCnG,YACAG,EANsCgG,EAMtChG,KACAN,EAPsCsG,EAOtCtG,OACAhB,EARsCsH,EAQtCtH,QAEIwH,EAAWN,EAAKK,eAAhBC,MAEN,OADAA,GAASA,EAASA,EAASL,EAASM,SAElC9L,EAAA9B,QAAAsG,cAAA,WACExE,EAAA9B,QAAAsG,cAACsE,EAAA5K,SAAK6N,KAAK,YACX/L,EAAA9B,QAAAsG,cAACsF,EAAD,KACE9J,EAAA9B,QAAAsG,cAACuF,EAAD,KACE/J,EAAA9B,QAAAsG,cAAC0F,EAAD,KAAe/E,GACfnF,EAAA9B,QAAAsG,cAAC6F,EAAD,KACGhF,EAAOC,SACRtF,EAAA9B,QAAAsG,cAAC6E,GACC2C,MAAO,SAAAxK,GAAA,MAASA,GAAM4E,MAAMmD,UAAUK,KACtCqC,KAAA,uBAA6B5G,EAAO6G,QAAQC,QAF9C,WAMFnM,EAAA9B,QAAAsG,cAAC+F,EAAD,KAAYlF,EAAO+G,IAAIA,KACvBpM,EAAA9B,QAAAsG,cAACmG,EAAD,KAAcnF,GACdxF,EAAA9B,QAAAsG,cAACoG,EAAD,gCAEE5K,EAAA9B,QAAAsG,cAACqG,IAAWoB,KAAMJ,GAASA,IAE7B7L,EAAA9B,QAAAsG,cAACyG,IACCtF,KAAMA,EACNqG,MAAO,SAAAxK,GAAA,MAASA,GAAM4E,MAAM4D,QAAQU,SAGxC1K,EAAA9B,QAAAsG,cAAC2G,IACCkB,yBACEC,OAAQjI,EAAQC,oBAAoBiI,MAEtCC,UAAU,iBAEZxM,EAAA9B,QAAAsG,cAACqF,EAAD,KACE7J,EAAA9B,QAAAsG,cAACkF,GACCsC,MAAO,SAAAxK,GAAA,MAASA,GAAM4E,MAAMmD,UAAUC,OACtCiD,QAAShB,GAFX,sBAWVJ,IAAU1E,WACR4E,KAAM3E,UAAUM,OAAOJ,WACvB0E,SAAU5E,UAAUM,OACpBd,MAAOQ,UAAUA,UAAUI,WACzBJ,UAAUK,KACVL,UAAUM,UFsRbrJ,EAAQK,QElRMmN,EAEFhE","file":"component---src-templates-story-blog-js-261a8093c5b88aea16f9.js","sourcesContent":["webpackJsonp([160335114096128],{\n\n/***/ 98:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.Wrapper = undefined;\n\t\n\tvar _templateObject = _taggedTemplateLiteralLoose(['\\n    grid-column-gap: 0.5rem;\\n    grid-template-areas:\\n      \\'. fs fs fs fs fs fs fs fs fs fs .\\'\\n      \\'cont cont cont cont cont cont cont cont cont cont cont cont\\';\\n  '], ['\\n    grid-column-gap: 0.5rem;\\n    grid-template-areas:\\n      \\'. fs fs fs fs fs fs fs fs fs fs .\\'\\n      \\'cont cont cont cont cont cont cont cont cont cont cont cont\\';\\n  ']),\n\t    _templateObject2 = _taggedTemplateLiteralLoose(['\\n    grid-template-areas:\\n      \\'fs fs fs fs fs fs fs fs fs fs fs fs\\'\\n      \\'cont cont cont cont cont cont cont cont cont cont cont cont\\';\\n  '], ['\\n    grid-template-areas:\\n      \\'fs fs fs fs fs fs fs fs fs fs fs fs\\'\\n      \\'cont cont cont cont cont cont cont cont cont cont cont cont\\';\\n  ']);\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _styledComponents = __webpack_require__(5);\n\t\n\tvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\t\n\tvar _propTypes = __webpack_require__(2);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _globalStyle = __webpack_require__(6);\n\t\n\tvar _FilterAndSearch = __webpack_require__(35);\n\t\n\tvar _FilterAndSearch2 = _interopRequireDefault(_FilterAndSearch);\n\t\n\tvar _CardContainer = __webpack_require__(34);\n\t\n\tvar _CardContainer2 = _interopRequireDefault(_CardContainer);\n\t\n\tvar _StoryCard = __webpack_require__(55);\n\t\n\tvar _StoryCard2 = _interopRequireDefault(_StoryCard);\n\t\n\tvar _Pagination = __webpack_require__(54);\n\t\n\tvar _Pagination2 = _interopRequireDefault(_Pagination);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\t\n\tvar Wrapper = exports.Wrapper = _styledComponents2.default.div.withConfig({\n\t  displayName: 'StoriesContainer__Wrapper'\n\t})(['display:grid;grid-template-columns:repeat(12,1fr);grid-template-rows:auto;grid-column-gap:1rem;grid-template-areas:\\'. . fs fs fs fs fs fs fs fs . .\\' \\'cont cont cont cont cont cont cont cont cont cont cont cont\\';margin-top:2.5rem;', ' ', ';'], _globalStyle.media.giant(_templateObject), _globalStyle.media.tablet(_templateObject2));\n\tvar Container = _styledComponents2.default.div.withConfig({\n\t  displayName: 'StoriesContainer__Container'\n\t})(['grid-area:cont;display:flex;flex-direction:column;align-content:center;']);\n\t\n\tvar StoriesContainer = function (_React$Component) {\n\t  _inherits(StoriesContainer, _React$Component);\n\t\n\t  function StoriesContainer(props) {\n\t    _classCallCheck(this, StoriesContainer);\n\t\n\t    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\t\n\t    _this.state = {\n\t      searchQuery: '',\n\t      blog: _this.props.initialBlog,\n\t      firstItem: 0,\n\t      activePage: 0\n\t    };\n\t    _this.CARDS = { cols: 2, items: 6 };\n\t\n\t    _this.changePage = _this.changePage.bind(_this);\n\t    _this.handleSort = _this.handleSort.bind(_this);\n\t    _this.handleSearch = _this.handleSearch.bind(_this);\n\t    _this.handleInput = _this.handleInput.bind(_this);\n\t    return _this;\n\t  }\n\t\n\t  // \"in-page\" pagination\n\t\n\t\n\t  StoriesContainer.prototype.changePage = function changePage(num) {\n\t    var _state = this.state,\n\t        firstItem = _state.firstItem,\n\t        blog = _state.blog,\n\t        activePage = _state.activePage,\n\t        _props = this.props,\n\t        numStories = _props.numStories,\n\t        pages = _props.pages;\n\t\n\t\n\t    var maxLength = blog.length - 1;\n\t\n\t    var previous = firstItem - numStories;\n\t    previous = previous < 0 ? 0 : previous;\n\t\n\t    var next = firstItem + numStories;\n\t    next = next > maxLength ? maxLength : next;\n\t\n\t    switch (num) {\n\t      case -1:\n\t        //get previous page\n\t        this.setState({\n\t          firstItem: previous,\n\t          activePage: activePage - 1 < 0 ? 0 : activePage - 1\n\t        });\n\t        return;\n\t      case 0:\n\t        //get next page\n\t        this.setState({\n\t          firstItem: next,\n\t          activePage: activePage + 2 > pages ? pages - 1 : activePage + 1\n\t        });\n\t        return;\n\t      default:\n\t        //get page #num\n\t        this.setState({\n\t          firstItem: numStories * (num - 1),\n\t          activePage: num - 1\n\t        });\n\t        return;\n\t    }\n\t  };\n\t\n\t  // handles sort by 'all', 'by author', 'by title', 'by length'\n\t\n\t\n\t  StoriesContainer.prototype.handleSort = function handleSort(str) {\n\t    var blog = [].concat(this.state.blog),\n\t        loadedBlog = [].concat(this.props.initialBlog);\n\t\n\t    switch (str) {\n\t      case 'all':\n\t        //show all cards\n\t        this.setState({ blog: loadedBlog });\n\t        return;\n\t      case 'by author':\n\t        // sort by author\n\t        this.setState({ blog: this.sortBy('author', blog) });\n\t        return;\n\t      case 'by title':\n\t        //sort by title\n\t        this.setState({ blog: this.sortBy('title', blog) });\n\t        return;\n\t      case 'by length':\n\t        // sort by timeToRead\n\t        this.setState({ blog: this.sortBy('timeToRead', blog) });\n\t        return;\n\t      default:\n\t        return;\n\t    }\n\t  };\n\t\n\t  //!!! must be changed for usage of Contentful\n\t\n\t\n\t  StoriesContainer.prototype.handleSearch = function handleSearch() {\n\t    //search in 'this.props.initialBlog'\n\t    var loadedBlog = [].concat(this.props.initialBlog),\n\t        searchQuery = this.state.searchQuery;\n\t\n\t\n\t    if (searchQuery) {\n\t      //\n\t    }\n\t  };\n\t\n\t  StoriesContainer.prototype.handleInput = function handleInput(val) {\n\t    this.setState({\n\t      searchQuery: val\n\t    });\n\t  };\n\t\n\t  // slice the array of stories according the limit(numStories) per page\n\t\n\t\n\t  StoriesContainer.prototype.setPagination = function setPagination() {\n\t    var numStories = this.props.numStories,\n\t        _state2 = this.state,\n\t        firstItem = _state2.firstItem,\n\t        blog = _state2.blog;\n\t\n\t    return blog.slice(firstItem, firstItem + numStories);\n\t  };\n\t\n\t  StoriesContainer.prototype.sortBy = function sortBy(sortField, arr) {\n\t    var sorted = arr.sort(function (a, b) {\n\t      var elemA = void 0,\n\t          elemB = void 0;\n\t      if (sortField === 'author') {\n\t        elemA = a.node[sortField].lastName;\n\t        elemB = b.node[sortField].lastName;\n\t      } else if (sortField === 'title') {\n\t        elemA = a.node[sortField];\n\t        elemB = b.node[sortField];\n\t      } else {\n\t        elemA = a.node.content.childMarkdownRemark[sortField];\n\t        elemB = b.node.content.childMarkdownRemark[sortField];\n\t      }\n\t\n\t      if (elemA < elemB) {\n\t        return -1;\n\t      }\n\t      if (elemA > elemB) {\n\t        return 1;\n\t      }\n\t      return 0;\n\t    });\n\t    return sorted;\n\t  };\n\t\n\t  StoriesContainer.prototype.render = function render() {\n\t    var arr = this.setPagination();\n\t    //console.log(arr)\n\t    return _react2.default.createElement(\n\t      Wrapper,\n\t      null,\n\t      _react2.default.createElement(_FilterAndSearch2.default, {\n\t        area: 'fs',\n\t        items: this.props.menuFilter,\n\t        changeDates: this.handleSort,\n\t        search: this.handleSearch,\n\t        input: this.handleInput\n\t      }),\n\t      _react2.default.createElement(\n\t        Container,\n\t        null,\n\t        _react2.default.createElement(\n\t          _CardContainer2.default,\n\t          { cols: this.CARDS.cols, story: true },\n\t          arr.map(function (elem) {\n\t            return _react2.default.createElement(_StoryCard2.default, {\n\t              key: elem.node.id,\n\t              title: elem.node.title,\n\t              slug: elem.node.slug,\n\t              author: elem.node.author.fullName,\n\t              date: elem.node.publishDate,\n\t              text: elem.node.content.childMarkdownRemark.excerpt,\n\t              tags: elem.node.tags,\n\t              img: elem.node.featureImage.resolutions.src,\n\t              time: elem.node.content.childMarkdownRemark.timeToRead\n\t            });\n\t          })\n\t        ),\n\t        _react2.default.createElement(_Pagination2.default, {\n\t          onChange: this.changePage,\n\t          background: this.props.theme.white,\n\t          pageNum: this.props.pages,\n\t          active: this.state.activePage\n\t        })\n\t      )\n\t    );\n\t  };\n\t\n\t  return StoriesContainer;\n\t}(_react2.default.Component);\n\t\n\texports.default = (0, _styledComponents.withTheme)(StoriesContainer);\n\t\n\t\n\tStoriesContainer.propTypes = {\n\t  initialBlog: _propTypes2.default.array,\n\t  menuFilter: _propTypes2.default.array.isRequired,\n\t  pages: _propTypes2.default.number.isRequired,\n\t  numStories: _propTypes2.default.number.isRequired,\n\t  theme: _propTypes2.default.PropTypes.oneOfType([_propTypes2.default.func, _propTypes2.default.object])\n\t};\n\n/***/ }),\n\n/***/ 341:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 252:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\texports.__esModule = true;\n\texports.storyBlogQuery = undefined;\n\t\n\tvar _templateObject = _taggedTemplateLiteralLoose(['\\n  padding: 0.25rem;\\n  margin-left: 0.3rem;\\n  text-transform: none;\\n  font-size: 0.85rem;\\n  vertical-align: top;\\n  &:hover {\\n    color: ', ';\\n    transform: none;\\n  }\\n  ', ';\\n'], ['\\n  padding: 0.25rem;\\n  margin-left: 0.3rem;\\n  text-transform: none;\\n  font-size: 0.85rem;\\n  vertical-align: top;\\n  &:hover {\\n    color: ', ';\\n    transform: none;\\n  }\\n  ', ';\\n']),\n\t    _templateObject2 = _taggedTemplateLiteralLoose(['\\n    font-size: 0.8rem;\\n    padding: 0.1rem 0.2rem;\\n    vertical-align: middle;\\n  '], ['\\n    font-size: 0.8rem;\\n    padding: 0.1rem 0.2rem;\\n    vertical-align: middle;\\n  ']),\n\t    _templateObject3 = _taggedTemplateLiteralLoose(['\\n  padding: 0.5rem;\\n  border-width: 2px;\\n  font-size: 1.25em;\\n  &:hover {\\n    color: ', ';\\n  }\\n  ', ';\\n'], ['\\n  padding: 0.5rem;\\n  border-width: 2px;\\n  font-size: 1.25em;\\n  &:hover {\\n    color: ', ';\\n  }\\n  ', ';\\n']),\n\t    _templateObject4 = _taggedTemplateLiteralLoose(['\\n    font-size: 1em;\\n  '], ['\\n    font-size: 1em;\\n  ']),\n\t    _templateObject5 = _taggedTemplateLiteralLoose(['\\n  grid-template-areas:\\n    \\'. panel panel panel panel panel panel panel panel panel panel.\\'\\n    \\'. . cont cont cont cont cont cont cont cont . .\\'\\n    \\'. btn btn btn btn btn btn btn btn btn btn.\\';\\n  ', ' ', ';\\n'], ['\\n  grid-template-areas:\\n    \\'. panel panel panel panel panel panel panel panel panel panel.\\'\\n    \\'. . cont cont cont cont cont cont cont cont . .\\'\\n    \\'. btn btn btn btn btn btn btn btn btn btn.\\';\\n  ', ' ', ';\\n']),\n\t    _templateObject6 = _taggedTemplateLiteralLoose(['\\n  grid-template-areas:\\n  \\'. panel panel panel panel panel panel panel panel panel panel .\\'\\n  \\'. cont cont cont cont cont cont cont cont cont cont .\\'\\n  \\'. btn btn btn btn btn btn btn btn btn btn.\\';  \\n  '], ['\\n  grid-template-areas:\\n  \\'. panel panel panel panel panel panel panel panel panel panel .\\'\\n  \\'. cont cont cont cont cont cont cont cont cont cont .\\'\\n  \\'. btn btn btn btn btn btn btn btn btn btn.\\';  \\n  ']),\n\t    _templateObject7 = _taggedTemplateLiteralLoose(['\\n  grid-template-areas:\\n  \\'panel panel panel panel panel panel panel panel panel panel panel panel\\'\\n  \\'cont cont cont cont cont cont cont cont cont cont cont cont\\'\\n  \\'btn btn btn btn btn btn btn btn btn btn btn btn\\';\\n  '], ['\\n  grid-template-areas:\\n  \\'panel panel panel panel panel panel panel panel panel panel panel panel\\'\\n  \\'cont cont cont cont cont cont cont cont cont cont cont cont\\'\\n  \\'btn btn btn btn btn btn btn btn btn btn btn btn\\';\\n  ']),\n\t    _templateObject8 = _taggedTemplateLiteralLoose(['\\n    margin: 0 0.75rem;\\n  '], ['\\n    margin: 0 0.75rem;\\n  ']),\n\t    _templateObject9 = _taggedTemplateLiteralLoose(['\\n  text-align: center;\\n  color: ', ';\\n  padding: 0.5rem;\\n  ', ' ', ';\\n'], ['\\n  text-align: center;\\n  color: ', ';\\n  padding: 0.5rem;\\n  ', ' ', ';\\n']),\n\t    _templateObject10 = _taggedTemplateLiteralLoose(['\\n    font-size: 2.125rem;\\n    padding-bottom: 0;\\n  '], ['\\n    font-size: 2.125rem;\\n    padding-bottom: 0;\\n  ']),\n\t    _templateObject11 = _taggedTemplateLiteralLoose(['\\n    font-size: 2rem;\\n    padding: 0 0.5rem;\\n  '], ['\\n    font-size: 2rem;\\n    padding: 0 0.5rem;\\n  ']),\n\t    _templateObject12 = _taggedTemplateLiteralLoose(['\\n  padding: 0 0.5rem;\\n  text-align: center;\\n  ', ' ', ' ', ';\\n'], ['\\n  padding: 0 0.5rem;\\n  text-align: center;\\n  ', ' ', ' ', ';\\n']),\n\t    _templateObject13 = _taggedTemplateLiteralLoose(['\\n    font-size: 1.375rem;\\n    margin: 0.25rem;\\n  '], ['\\n    font-size: 1.375rem;\\n    margin: 0.25rem;\\n  ']),\n\t    _templateObject14 = _taggedTemplateLiteralLoose(['\\n    font-size: 1.25rem;\\n  '], ['\\n    font-size: 1.25rem;\\n  ']),\n\t    _templateObject15 = _taggedTemplateLiteralLoose(['\\n    line-height: 1.35;\\n  '], ['\\n    line-height: 1.35;\\n  ']),\n\t    _templateObject16 = _taggedTemplateLiteralLoose(['\\n  padding: 0 0.5rem;\\n  text-align: center;\\n  font-size: 1rem;\\n  color: ', ';\\n  ', ';\\n'], ['\\n  padding: 0 0.5rem;\\n  text-align: center;\\n  font-size: 1rem;\\n  color: ', ';\\n  ', ';\\n']),\n\t    _templateObject17 = _taggedTemplateLiteralLoose(['\\n    font-size: 0.95rem;\\n    margin: 0.25rem;\\n  '], ['\\n    font-size: 0.95rem;\\n    margin: 0.25rem;\\n  ']),\n\t    _templateObject18 = _taggedTemplateLiteralLoose(['\\n  padding: 0 0.5rem;\\n  text-align: center;\\n  font-size: 1.1rem;\\n  ', ' ', ';\\n'], ['\\n  padding: 0 0.5rem;\\n  text-align: center;\\n  font-size: 1.1rem;\\n  ', ' ', ';\\n']),\n\t    _templateObject19 = _taggedTemplateLiteralLoose(['\\n    font-size: 1rem;\\n    margin: 0.25rem;\\n  '], ['\\n    font-size: 1rem;\\n    margin: 0.25rem;\\n  ']),\n\t    _templateObject20 = _taggedTemplateLiteralLoose(['\\n    font-size: 1rem;\\n  '], ['\\n    font-size: 1rem;\\n  ']),\n\t    _templateObject21 = _taggedTemplateLiteralLoose(['\\n  ', ' ', ';\\n'], ['\\n  ', ' ', ';\\n']),\n\t    _templateObject22 = _taggedTemplateLiteralLoose(['\\n    margin: 0.25rem;\\n  '], ['\\n    margin: 0.25rem;\\n  ']),\n\t    _templateObject23 = _taggedTemplateLiteralLoose(['\\n    font-size: 0.95rem;\\n  '], ['\\n    font-size: 0.95rem;\\n  ']),\n\t    _templateObject24 = _taggedTemplateLiteralLoose(['\\n  padding: 0 0.25rem;\\n  color: ', ';\\n  &:active,\\n  &:hover,\\n  &:focus {\\n    color: ', ';\\n    text-decoration: underline;\\n  }\\n'], ['\\n  padding: 0 0.25rem;\\n  color: ', ';\\n  &:active,\\n  &:hover,\\n  &:focus {\\n    color: ', ';\\n    text-decoration: underline;\\n  }\\n']);\n\t\n\tvar _react = __webpack_require__(3);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _propTypes = __webpack_require__(2);\n\t\n\tvar _propTypes2 = _interopRequireDefault(_propTypes);\n\t\n\tvar _styledComponents = __webpack_require__(5);\n\t\n\tvar _styledComponents2 = _interopRequireDefault(_styledComponents);\n\t\n\tvar _gatsbyLink = __webpack_require__(26);\n\t\n\tvar _Hero = __webpack_require__(29);\n\t\n\tvar _Hero2 = _interopRequireDefault(_Hero);\n\t\n\tvar _StoriesContainer = __webpack_require__(98);\n\t\n\tvar _StoryCard = __webpack_require__(55);\n\t\n\tvar _Button = __webpack_require__(72);\n\t\n\tvar _globalStyle = __webpack_require__(6);\n\t\n\tvar _storyBlogModule = __webpack_require__(341);\n\t\n\tvar _storyBlogModule2 = _interopRequireDefault(_storyBlogModule);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _taggedTemplateLiteralLoose(strings, raw) { strings.raw = raw; return strings; }\n\t\n\tvar ArticleButton = _Button.ButtonSmall.withComponent('a');\n\tvar FollowButton = ArticleButton.extend(_templateObject, function (props) {\n\t  return props.theme.secondary.green;\n\t}, _globalStyle.media.phone(_templateObject2));\n\tvar BackButton = _Button.Button.extend(_templateObject3, function (props) {\n\t  return props.theme.secondary.red;\n\t}, _globalStyle.media.phone(_templateObject4));\n\tvar BackButtonContainer = _styledComponents2.default.div.withConfig({\n\t  displayName: 'storyBlog__BackButtonContainer'\n\t})(['grid-area:btn;display:flex;justify-content:center;margin:1rem 0.5rem 2rem 0.5rem;']);\n\t\n\tvar ArticleContainer = _StoriesContainer.Wrapper.extend(_templateObject5, _globalStyle.media.giant(_templateObject6), _globalStyle.media.tablet(_templateObject7));\n\t\n\tvar ArticlePanel = _styledComponents2.default.div.withConfig({\n\t  displayName: 'storyBlog__ArticlePanel'\n\t})(['grid-area:panel;display:flex;flex-direction:column;border:2px solid ', ';border-radius:2px;margin-bottom:1.5rem;', ';'], function (props) {\n\t  return props.theme.primary.light;\n\t}, _globalStyle.media.tablet(_templateObject8));\n\t\n\tvar ArticleTitle = _globalStyle.StyledH1.extend(_templateObject9, function (props) {\n\t  return props.theme.primary.light;\n\t}, _globalStyle.media.desktop(_templateObject10), _globalStyle.media.tablet(_templateObject11));\n\t\n\tvar ArticleAuthor = _globalStyle.StyledH3.extend(_templateObject12, _globalStyle.media.desktop(_templateObject13), _globalStyle.media.tablet(_templateObject14), _globalStyle.media.phone(_templateObject15));\n\t\n\tvar AuthorBio = _globalStyle.StyledP.extend(_templateObject16, function (props) {\n\t  return props.theme.shades.dark;\n\t}, _globalStyle.media.tablet(_templateObject17));\n\t\n\tvar ArticleDate = _globalStyle.StyledP.extend(_templateObject18, _globalStyle.media.desktop(_templateObject19), _globalStyle.media.tablet(_templateObject20));\n\t\n\tvar ArticleSource = ArticleDate.extend(_templateObject21, _globalStyle.media.desktop(_templateObject22), _globalStyle.media.tablet(_templateObject23));\n\t\n\tvar StyledLink = _globalStyle.StyledA.extend(_templateObject24, function (props) {\n\t  return props.theme.tints.brightgreen;\n\t}, function (props) {\n\t  return props.theme.secondary.red;\n\t});\n\t\n\tvar ArticleTag = (0, _styledComponents2.default)(_StoryCard.Tag).withConfig({\n\t  displayName: 'storyBlog__ArticleTag'\n\t})(['align-self:center;']);\n\t\n\tvar ArticleContent = _styledComponents2.default.article.withConfig({\n\t  displayName: 'storyBlog__ArticleContent'\n\t})(['grid-area:cont;padding:0.8em;']);\n\t\n\tvar StoryBlog = function StoryBlog(_ref) {\n\t  var data = _ref.data,\n\t      location = _ref.location;\n\t\n\t  //console.log(data)\n\t  var goBack = function goBack() {\n\t    return (0, _gatsbyLink.navigateTo)('/stories');\n\t  };\n\t  var _data$contentfulBlog = data.contentfulBlog,\n\t      title = _data$contentfulBlog.title,\n\t      publishDate = _data$contentfulBlog.publishDate,\n\t      tags = _data$contentfulBlog.tags,\n\t      author = _data$contentfulBlog.author,\n\t      content = _data$contentfulBlog.content;\n\t  var source = data.contentfulBlog.source;\n\t\n\t  source = source ? source : location.pathname;\n\t  return _react2.default.createElement(\n\t    'div',\n\t    null,\n\t    _react2.default.createElement(_Hero2.default, { type: 'stories' }),\n\t    _react2.default.createElement(\n\t      ArticleContainer,\n\t      null,\n\t      _react2.default.createElement(\n\t        ArticlePanel,\n\t        null,\n\t        _react2.default.createElement(\n\t          ArticleTitle,\n\t          null,\n\t          title\n\t        ),\n\t        _react2.default.createElement(\n\t          ArticleAuthor,\n\t          null,\n\t          author.fullName,\n\t          _react2.default.createElement(\n\t            FollowButton,\n\t            {\n\t              color: function color(props) {\n\t                return props.theme.secondary.red;\n\t              },\n\t              href: 'https://twitter.com/' + author.contact.trim() },\n\t            'Follow'\n\t          )\n\t        ),\n\t        _react2.default.createElement(\n\t          AuthorBio,\n\t          null,\n\t          author.bio.bio\n\t        ),\n\t        _react2.default.createElement(\n\t          ArticleDate,\n\t          null,\n\t          publishDate\n\t        ),\n\t        _react2.default.createElement(\n\t          ArticleSource,\n\t          null,\n\t          'Originally published in:',\n\t          _react2.default.createElement(\n\t            StyledLink,\n\t            { href: source },\n\t            source\n\t          )\n\t        ),\n\t        _react2.default.createElement(ArticleTag, {\n\t          tags: tags,\n\t          color: function color(props) {\n\t            return props.theme.primary.dark;\n\t          }\n\t        })\n\t      ),\n\t      _react2.default.createElement(ArticleContent, {\n\t        dangerouslySetInnerHTML: {\n\t          __html: content.childMarkdownRemark.html\n\t        },\n\t        className: 'user-article'\n\t      }),\n\t      _react2.default.createElement(\n\t        BackButtonContainer,\n\t        null,\n\t        _react2.default.createElement(\n\t          BackButton,\n\t          {\n\t            color: function color(props) {\n\t              return props.theme.secondary.green;\n\t            },\n\t            onClick: goBack },\n\t          'Back to Stories'\n\t        )\n\t      )\n\t    )\n\t  );\n\t};\n\t\n\tStoryBlog.propTypes = {\n\t  data: _propTypes2.default.object.isRequired,\n\t  location: _propTypes2.default.object,\n\t  theme: _propTypes2.default.PropTypes.oneOfType([_propTypes2.default.func, _propTypes2.default.object])\n\t};\n\t\n\texports.default = StoryBlog;\n\tvar storyBlogQuery = exports.storyBlogQuery = '** extracted graphql fragment **';\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// component---src-templates-story-blog-js-261a8093c5b88aea16f9.js","import React from 'react'\nimport styled from 'styled-components'\nimport { withTheme } from 'styled-components'\nimport PropTypes from 'prop-types'\n\nimport { media } from '../theme/globalStyle'\nimport FilterAndSearch from './FilterAndSearch'\nimport CardContainer from './CardContainer'\nimport StoryCard from './StoryCard'\nimport Pagination from './Pagination'\n\nexport const Wrapper = styled.div`\n  display: grid;\n  grid-template-columns: repeat(12, 1fr);\n  grid-template-rows: auto;\n  grid-column-gap: 1rem;\n  grid-template-areas:\n    '. . fs fs fs fs fs fs fs fs . .'\n    'cont cont cont cont cont cont cont cont cont cont cont cont';\n  margin-top: 2.5rem;\n  ${media.giant`\n    grid-column-gap: 0.5rem;\n    grid-template-areas:\n      '. fs fs fs fs fs fs fs fs fs fs .'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  `} ${media.tablet`\n    grid-template-areas:\n      'fs fs fs fs fs fs fs fs fs fs fs fs'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  `};\n`\nconst Container = styled.div`\n  grid-area: cont;\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n`\n\nclass StoriesContainer extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      searchQuery: '',\n      blog: this.props.initialBlog,\n      firstItem: 0,\n      activePage: 0\n    }\n    this.CARDS = { cols: 2, items: 6 }\n\n    this.changePage = this.changePage.bind(this)\n    this.handleSort = this.handleSort.bind(this)\n    this.handleSearch = this.handleSearch.bind(this)\n    this.handleInput = this.handleInput.bind(this)\n  }\n\n  // \"in-page\" pagination\n  changePage(num) {\n    const { firstItem, blog, activePage } = this.state,\n      { numStories, pages } = this.props\n\n    const maxLength = blog.length - 1\n\n    let previous = firstItem - numStories\n    previous = previous < 0 ? 0 : previous\n\n    let next = firstItem + numStories\n    next = next > maxLength ? maxLength : next\n\n    switch (num) {\n      case -1: //get previous page\n        this.setState({\n          firstItem: previous,\n          activePage: activePage - 1 < 0 ? 0 : activePage - 1\n        })\n        return\n      case 0: //get next page\n        this.setState({\n          firstItem: next,\n          activePage:\n            activePage + 2 > pages ? pages - 1 : activePage + 1\n        })\n        return\n      default:\n        //get page #num\n        this.setState({\n          firstItem: numStories * (num - 1),\n          activePage: num - 1\n        })\n        return\n    }\n  }\n\n  // handles sort by 'all', 'by author', 'by title', 'by length'\n  handleSort(str) {\n    const blog = [...this.state.blog],\n      loadedBlog = [...this.props.initialBlog]\n\n    switch (str) {\n      case 'all':\n        //show all cards\n        this.setState({ blog: loadedBlog })\n        return\n      case 'by author':\n        // sort by author\n        this.setState({ blog: this.sortBy('author', blog) })\n        return\n      case 'by title':\n        //sort by title\n        this.setState({ blog: this.sortBy('title', blog) })\n        return\n      case 'by length':\n        // sort by timeToRead\n        this.setState({ blog: this.sortBy('timeToRead', blog) })\n        return\n      default:\n        return\n    }\n  }\n\n  //!!! must be changed for usage of Contentful\n  handleSearch() {\n    //search in 'this.props.initialBlog'\n    const loadedBlog = [...this.props.initialBlog],\n      { searchQuery } = this.state\n\n    if (searchQuery) {\n      //\n    }\n  }\n\n  handleInput(val) {\n    this.setState({\n      searchQuery: val\n    })\n  }\n\n  // slice the array of stories according the limit(numStories) per page\n  setPagination() {\n    const { numStories } = this.props,\n      { firstItem, blog } = this.state\n    return blog.slice(firstItem, firstItem + numStories)\n  }\n\n  sortBy(sortField, arr) {\n    const sorted = arr.sort((a, b) => {\n      let elemA, elemB\n      if (sortField === 'author') {\n        elemA = a.node[sortField].lastName\n        elemB = b.node[sortField].lastName\n      } else if (sortField === 'title') {\n        elemA = a.node[sortField]\n        elemB = b.node[sortField]\n      } else {\n        elemA = a.node.content.childMarkdownRemark[sortField]\n        elemB = b.node.content.childMarkdownRemark[sortField]\n      }\n\n      if (elemA < elemB) {\n        return -1\n      }\n      if (elemA > elemB) {\n        return 1\n      }\n      return 0\n    })\n    return sorted\n  }\n\n  render() {\n    const arr = this.setPagination()\n    //console.log(arr)\n    return (\n      <Wrapper>\n        <FilterAndSearch\n          area=\"fs\"\n          items={this.props.menuFilter}\n          changeDates={this.handleSort}\n          search={this.handleSearch}\n          input={this.handleInput}\n        />\n        <Container>\n          <CardContainer cols={this.CARDS.cols} story={true}>\n            {arr.map(elem => (\n              <StoryCard\n                key={elem.node.id}\n                title={elem.node.title}\n                slug={elem.node.slug}\n                author={elem.node.author.fullName}\n                date={elem.node.publishDate}\n                text={elem.node.content.childMarkdownRemark.excerpt}\n                tags={elem.node.tags}\n                img={elem.node.featureImage.resolutions.src}\n                time={\n                  elem.node.content.childMarkdownRemark.timeToRead\n                }\n              />\n            ))}\n          </CardContainer>\n          <Pagination\n            onChange={this.changePage}\n            background={this.props.theme.white}\n            pageNum={this.props.pages}\n            active={this.state.activePage}\n          />\n        </Container>\n      </Wrapper>\n    )\n  }\n}\n\nexport default withTheme(StoriesContainer)\n\nStoriesContainer.propTypes = {\n  initialBlog: PropTypes.array,\n  menuFilter: PropTypes.array.isRequired,\n  pages: PropTypes.number.isRequired,\n  numStories: PropTypes.number.isRequired,\n  theme: PropTypes.PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.object\n  ])\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/StoriesContainer.js","import React from 'react'\nimport PropTypes from 'prop-types'\nimport styled from 'styled-components'\nimport { navigateTo } from 'gatsby-link'\nimport Hero from '../components/Hero'\nimport { Wrapper } from '../components/StoriesContainer'\nimport { Tag } from '../components/StoryCard'\nimport { ButtonSmall, Button } from '../components/Button'\nimport {\n  StyledH1,\n  StyledH3,\n  StyledP,\n  StyledA,\n  media\n} from '../theme/globalStyle'\n\nimport contentStyles from '../css/storyBlog-module.css'\n\nconst ArticleButton = ButtonSmall.withComponent('a')\nconst FollowButton = ArticleButton.extend`\n  padding: 0.25rem;\n  margin-left: 0.3rem;\n  text-transform: none;\n  font-size: 0.85rem;\n  vertical-align: top;\n  &:hover {\n    color: ${props => props.theme.secondary.green};\n    transform: none;\n  }\n  ${media.phone`\n    font-size: 0.8rem;\n    padding: 0.1rem 0.2rem;\n    vertical-align: middle;\n  `};\n`\nconst BackButton = Button.extend`\n  padding: 0.5rem;\n  border-width: 2px;\n  font-size: 1.25em;\n  &:hover {\n    color: ${props => props.theme.secondary.red};\n  }\n  ${media.phone`\n    font-size: 1em;\n  `};\n`\nconst BackButtonContainer = styled.div`\n  grid-area: btn;\n  display: flex;\n  justify-content: center;\n  margin: 1rem 0.5rem 2rem 0.5rem;\n`\n\nconst ArticleContainer = Wrapper.extend`\n  grid-template-areas:\n    '. panel panel panel panel panel panel panel panel panel panel.'\n    '. . cont cont cont cont cont cont cont cont . .'\n    '. btn btn btn btn btn btn btn btn btn btn.';\n  ${media.giant`\n  grid-template-areas:\n  '. panel panel panel panel panel panel panel panel panel panel .'\n  '. cont cont cont cont cont cont cont cont cont cont .'\n  '. btn btn btn btn btn btn btn btn btn btn.';  \n  `} ${media.tablet`\n  grid-template-areas:\n  'panel panel panel panel panel panel panel panel panel panel panel panel'\n  'cont cont cont cont cont cont cont cont cont cont cont cont'\n  'btn btn btn btn btn btn btn btn btn btn btn btn';\n  `};\n`\n\nconst ArticlePanel = styled.div`\n  grid-area: panel;\n  display: flex;\n  flex-direction: column;\n  border: 2px solid ${props => props.theme.primary.light};\n  border-radius: 2px;\n  margin-bottom: 1.5rem;\n  ${media.tablet`\n    margin: 0 0.75rem;\n  `};\n`\n\nconst ArticleTitle = StyledH1.extend`\n  text-align: center;\n  color: ${props => props.theme.primary.light};\n  padding: 0.5rem;\n  ${media.desktop`\n    font-size: 2.125rem;\n    padding-bottom: 0;\n  `} ${media.tablet`\n    font-size: 2rem;\n    padding: 0 0.5rem;\n  `};\n`\n\nconst ArticleAuthor = StyledH3.extend`\n  padding: 0 0.5rem;\n  text-align: center;\n  ${media.desktop`\n    font-size: 1.375rem;\n    margin: 0.25rem;\n  `} ${media.tablet`\n    font-size: 1.25rem;\n  `} ${media.phone`\n    line-height: 1.35;\n  `};\n`\n\nconst AuthorBio = StyledP.extend`\n  padding: 0 0.5rem;\n  text-align: center;\n  font-size: 1rem;\n  color: ${props => props.theme.shades.dark};\n  ${media.tablet`\n    font-size: 0.95rem;\n    margin: 0.25rem;\n  `};\n`\n\nconst ArticleDate = StyledP.extend`\n  padding: 0 0.5rem;\n  text-align: center;\n  font-size: 1.1rem;\n  ${media.desktop`\n    font-size: 1rem;\n    margin: 0.25rem;\n  `} ${media.tablet`\n    font-size: 1rem;\n  `};\n`\n\nconst ArticleSource = ArticleDate.extend`\n  ${media.desktop`\n    margin: 0.25rem;\n  `} ${media.tablet`\n    font-size: 0.95rem;\n  `};\n`\n\nconst StyledLink = StyledA.extend`\n  padding: 0 0.25rem;\n  color: ${props => props.theme.tints.brightgreen};\n  &:active,\n  &:hover,\n  &:focus {\n    color: ${props => props.theme.secondary.red};\n    text-decoration: underline;\n  }\n`\n\nconst ArticleTag = styled(Tag)`\n  align-self: center;\n`\n\nconst ArticleContent = styled.article`\n  grid-area: cont;\n  padding: 0.8em;\n`\n\nconst StoryBlog = ({ data, location }) => {\n  //console.log(data)\n  const goBack = () => navigateTo('/stories')\n  const {\n    title,\n    publishDate,\n    tags,\n    author,\n    content\n  } = data.contentfulBlog\n  let { source } = data.contentfulBlog\n  source = source ? source : location.pathname\n  return (\n    <div>\n      <Hero type=\"stories\" />\n      <ArticleContainer>\n        <ArticlePanel>\n          <ArticleTitle>{title}</ArticleTitle>\n          <ArticleAuthor>\n            {author.fullName}\n            <FollowButton\n              color={props => props.theme.secondary.red}\n              href={`https://twitter.com/${author.contact.trim()}`}>\n              Follow\n            </FollowButton>\n          </ArticleAuthor>\n          <AuthorBio>{author.bio.bio}</AuthorBio>\n          <ArticleDate>{publishDate}</ArticleDate>\n          <ArticleSource>\n            Originally published in:\n            <StyledLink href={source}>{source}</StyledLink>\n          </ArticleSource>\n          <ArticleTag\n            tags={tags}\n            color={props => props.theme.primary.dark}\n          />\n        </ArticlePanel>\n        <ArticleContent\n          dangerouslySetInnerHTML={{\n            __html: content.childMarkdownRemark.html\n          }}\n          className=\"user-article\"\n        />\n        <BackButtonContainer>\n          <BackButton\n            color={props => props.theme.secondary.green}\n            onClick={goBack}>\n            Back to Stories\n          </BackButton>\n        </BackButtonContainer>\n      </ArticleContainer>\n    </div>\n  )\n}\n\nStoryBlog.propTypes = {\n  data: PropTypes.object.isRequired,\n  location: PropTypes.object,\n  theme: PropTypes.PropTypes.oneOfType([\n    PropTypes.func,\n    PropTypes.object\n  ])\n}\n\nexport default StoryBlog\n\nexport const storyBlogQuery = graphql`\n  query blogPostQuery($slug: String!) {\n    contentfulBlog(slug: { eq: $slug }) {\n      title\n      publishDate(formatString: \"MMMM DD, YYYY\")\n      tags\n      source\n      author {\n        fullName\n        contact\n        bio {\n          bio\n        }\n      }\n      content {\n        childMarkdownRemark {\n          timeToRead\n          html\n        }\n      }\n    }\n  }\n`\n\n\n\n// WEBPACK FOOTER //\n// ./src/templates/storyBlog.js"],"sourceRoot":""}