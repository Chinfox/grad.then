webpackJsonp([0x91d2ed854e00],{98:function(n,e,t){"use strict";function a(n){return n&&n.__esModule?n:{default:n}}function o(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function r(n,e){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?n:e}function i(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);n.prototype=Object.create(e&&e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(n,e):n.__proto__=e)}function l(n,e){return n.raw=e,n}e.__esModule=!0,e.Wrapper=void 0;var c=l(["\n    grid-column-gap: 0.5rem;\n    grid-template-areas:\n      '. fs fs fs fs fs fs fs fs fs fs .'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "],["\n    grid-column-gap: 0.5rem;\n    grid-template-areas:\n      '. fs fs fs fs fs fs fs fs fs fs .'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "]),s=l(["\n    grid-template-areas:\n      'fs fs fs fs fs fs fs fs fs fs fs fs'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "],["\n    grid-template-areas:\n      'fs fs fs fs fs fs fs fs fs fs fs fs'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "]),d=t(3),f=a(d),p=t(5),m=a(p),u=t(2),g=a(u),h=t(6),b=t(35),y=a(b),v=t(34),x=a(v),S=t(55),w=a(S),z=t(54),_=a(z),E=e.Wrapper=m.default.div.withConfig({displayName:"StoriesContainer__Wrapper"})(["display:grid;grid-template-columns:repeat(12,1fr);grid-template-rows:auto;grid-column-gap:1rem;grid-template-areas:'. . fs fs fs fs fs fs fs fs . .' 'cont cont cont cont cont cont cont cont cont cont cont cont';margin-top:2.5rem;"," ",";"],h.media.giant(c),h.media.tablet(s)),k=m.default.div.withConfig({displayName:"StoriesContainer__Container"})(["grid-area:cont;display:flex;flex-direction:column;align-content:center;"]),B=function(n){function e(t){o(this,e);var a=r(this,n.call(this,t));return a.state={searchQuery:"",blog:a.props.initialBlog,firstItem:0,activePage:0},a.CARDS={cols:2,items:6},a.changePage=a.changePage.bind(a),a.handleSort=a.handleSort.bind(a),a.handleSearch=a.handleSearch.bind(a),a.handleInput=a.handleInput.bind(a),a}return i(e,n),e.prototype.changePage=function(n){var e=this.state,t=e.firstItem,a=e.blog,o=e.activePage,r=this.props,i=r.numStories,l=r.pages,c=a.length-1,s=t-i;s=s<0?0:s;var d=t+i;switch(d=d>c?c:d,n){case-1:return void this.setState({firstItem:s,activePage:o-1<0?0:o-1});case 0:return void this.setState({firstItem:d,activePage:o+2>l?l-1:o+1});default:return void this.setState({firstItem:i*(n-1),activePage:n-1})}},e.prototype.handleSort=function(n){var e=[].concat(this.state.blog),t=[].concat(this.props.initialBlog);switch(n){case"all":return void this.setState({blog:t});case"by author":return void this.setState({blog:this.sortBy("author",e)});case"by title":return void this.setState({blog:this.sortBy("title",e)});case"by length":return void this.setState({blog:this.sortBy("timeToRead",e)});default:return}},e.prototype.handleSearch=function(){[].concat(this.props.initialBlog),this.state.searchQuery},e.prototype.handleInput=function(n){this.setState({searchQuery:n})},e.prototype.setPagination=function(){var n=this.props.numStories,e=this.state,t=e.firstItem,a=e.blog;return a.slice(t,t+n)},e.prototype.sortBy=function(n,e){var t=e.sort(function(e,t){var a=void 0,o=void 0;return"author"===n?(a=e.node[n].lastName,o=t.node[n].lastName):"title"===n?(a=e.node[n],o=t.node[n]):(a=e.node.content.childMarkdownRemark[n],o=t.node.content.childMarkdownRemark[n]),a<o?-1:a>o?1:0});return t},e.prototype.render=function(){var n=this.setPagination();return f.default.createElement(E,null,f.default.createElement(y.default,{area:"fs",items:this.props.menuFilter,changeDates:this.handleSort,search:this.handleSearch,input:this.handleInput}),f.default.createElement(k,null,f.default.createElement(x.default,{cols:this.CARDS.cols,story:!0},n.map(function(n){return f.default.createElement(w.default,{key:n.node.id,title:n.node.title,slug:n.node.slug,author:n.node.author.fullName,date:n.node.publishDate,text:n.node.content.childMarkdownRemark.excerpt,tags:n.node.tags,img:n.node.featureImage.resolutions.src,time:n.node.content.childMarkdownRemark.timeToRead})})),f.default.createElement(_.default,{onChange:this.changePage,background:this.props.theme.white,pageNum:this.props.pages,active:this.state.activePage})))},e}(f.default.Component);e.default=(0,p.withTheme)(B),B.propTypes={initialBlog:g.default.array,menuFilter:g.default.array.isRequired,pages:g.default.number.isRequired,numStories:g.default.number.isRequired,theme:g.default.PropTypes.oneOfType([g.default.func,g.default.object])}},341:function(n,e){},252:function(n,e,t){"use strict";function a(n){return n&&n.__esModule?n:{default:n}}function o(n,e){return n.raw=e,n}e.__esModule=!0,e.storyBlogQuery=void 0;var r=o(["\n  padding: 0.25rem;\n  margin-left: 0.3rem;\n  text-transform: none;\n  font-size: 0.85rem;\n  vertical-align: top;\n  &:hover {\n    color: ",";\n    transform: none;\n  }\n  ",";\n"],["\n  padding: 0.25rem;\n  margin-left: 0.3rem;\n  text-transform: none;\n  font-size: 0.85rem;\n  vertical-align: top;\n  &:hover {\n    color: ",";\n    transform: none;\n  }\n  ",";\n"]),i=o(["\n    font-size: 0.8rem;\n    padding: 0.1rem 0.2rem;\n    vertical-align: middle;\n  "],["\n    font-size: 0.8rem;\n    padding: 0.1rem 0.2rem;\n    vertical-align: middle;\n  "]),l=o(["\n  padding: 0.5rem;\n  border-width: 2px;\n  font-size: 1.25em;\n  &:hover {\n    color: ",";\n  }\n  ",";\n"],["\n  padding: 0.5rem;\n  border-width: 2px;\n  font-size: 1.25em;\n  &:hover {\n    color: ",";\n  }\n  ",";\n"]),c=o(["\n    font-size: 1em;\n  "],["\n    font-size: 1em;\n  "]),s=o(["\n  grid-template-areas:\n    '. panel panel panel panel panel panel panel panel panel panel.'\n    '. . cont cont cont cont cont cont cont cont . .'\n    '. btn btn btn btn btn btn btn btn btn btn.';\n  "," ",";\n"],["\n  grid-template-areas:\n    '. panel panel panel panel panel panel panel panel panel panel.'\n    '. . cont cont cont cont cont cont cont cont . .'\n    '. btn btn btn btn btn btn btn btn btn btn.';\n  "," ",";\n"]),d=o(["\n  grid-template-areas:\n  '. panel panel panel panel panel panel panel panel panel panel .'\n  '. cont cont cont cont cont cont cont cont cont cont .'\n  '. btn btn btn btn btn btn btn btn btn btn.';  \n  "],["\n  grid-template-areas:\n  '. panel panel panel panel panel panel panel panel panel panel .'\n  '. cont cont cont cont cont cont cont cont cont cont .'\n  '. btn btn btn btn btn btn btn btn btn btn.';  \n  "]),f=o(["\n  grid-template-areas:\n  'panel panel panel panel panel panel panel panel panel panel panel panel'\n  'cont cont cont cont cont cont cont cont cont cont cont cont'\n  'btn btn btn btn btn btn btn btn btn btn btn btn';\n  "],["\n  grid-template-areas:\n  'panel panel panel panel panel panel panel panel panel panel panel panel'\n  'cont cont cont cont cont cont cont cont cont cont cont cont'\n  'btn btn btn btn btn btn btn btn btn btn btn btn';\n  "]),p=o(["\n    margin: 0 0.75rem;\n  "],["\n    margin: 0 0.75rem;\n  "]),m=o(["\n  text-align: center;\n  color: ",";\n  padding: 0.5rem;\n  "," ",";\n"],["\n  text-align: center;\n  color: ",";\n  padding: 0.5rem;\n  "," ",";\n"]),u=o(["\n    font-size: 2.125rem;\n    padding-bottom: 0;\n  "],["\n    font-size: 2.125rem;\n    padding-bottom: 0;\n  "]),g=o(["\n    font-size: 2rem;\n    padding: 0 0.5rem;\n  "],["\n    font-size: 2rem;\n    padding: 0 0.5rem;\n  "]),h=o(["\n  padding: 0 0.5rem;\n  text-align: center;\n  "," "," ",";\n"],["\n  padding: 0 0.5rem;\n  text-align: center;\n  "," "," ",";\n"]),b=o(["\n    font-size: 1.375rem;\n    margin: 0.25rem;\n  "],["\n    font-size: 1.375rem;\n    margin: 0.25rem;\n  "]),y=o(["\n    font-size: 1.25rem;\n  "],["\n    font-size: 1.25rem;\n  "]),v=o(["\n    line-height: 1.35;\n  "],["\n    line-height: 1.35;\n  "]),x=o(["\n  padding: 0 0.5rem;\n  text-align: center;\n  font-size: 1rem;\n  color: ",";\n  ",";\n"],["\n  padding: 0 0.5rem;\n  text-align: center;\n  font-size: 1rem;\n  color: ",";\n  ",";\n"]),S=o(["\n    font-size: 0.95rem;\n    margin: 0.25rem;\n  "],["\n    font-size: 0.95rem;\n    margin: 0.25rem;\n  "]),w=o(["\n  padding: 0 0.5rem;\n  text-align: center;\n  font-size: 1.1rem;\n  "," ",";\n"],["\n  padding: 0 0.5rem;\n  text-align: center;\n  font-size: 1.1rem;\n  "," ",";\n"]),z=o(["\n    font-size: 1rem;\n    margin: 0.25rem;\n  "],["\n    font-size: 1rem;\n    margin: 0.25rem;\n  "]),_=o(["\n    font-size: 1rem;\n  "],["\n    font-size: 1rem;\n  "]),E=o(["\n  "," ",";\n"],["\n  "," ",";\n"]),k=o(["\n    margin: 0.25rem;\n  "],["\n    margin: 0.25rem;\n  "]),B=o(["\n    font-size: 0.95rem;\n  "],["\n    font-size: 0.95rem;\n  "]),P=o(["\n  padding: 0 0.25rem;\n  color: ",";\n  &:active,\n  &:hover,\n  &:focus {\n    color: ",";\n    text-decoration: underline;\n  }\n"],["\n  padding: 0 0.25rem;\n  color: ",";\n  &:active,\n  &:hover,\n  &:focus {\n    color: ",";\n    text-decoration: underline;\n  }\n"]),C=t(3),T=a(C),R=t(2),I=a(R),N=t(5),M=a(N),j=t(26),O=t(29),A=a(O),q=t(98),D=t(55),Q=t(72),W=t(6),F=t(341),H=(a(F),Q.ButtonSmall.withComponent("a")),J=H.extend(r,function(n){return n.theme.secondary.green},W.media.phone(i)),L=Q.Button.extend(l,function(n){return n.theme.secondary.red},W.media.phone(c)),G=M.default.div.withConfig({displayName:"storyBlog__BackButtonContainer"})(["grid-area:btn;display:flex;justify-content:center;margin:1rem 0.5rem 2rem 0.5rem;"]),K=q.Wrapper.extend(s,W.media.giant(d),W.media.tablet(f)),U=M.default.div.withConfig({displayName:"storyBlog__ArticlePanel"})(["grid-area:panel;display:flex;flex-direction:column;border:2px solid ",";border-radius:2px;margin-bottom:1.5rem;",";"],function(n){return n.theme.primary.light},W.media.tablet(p)),V=W.StyledH1.extend(m,function(n){return n.theme.primary.light},W.media.desktop(u),W.media.tablet(g)),X=W.StyledH3.extend(h,W.media.desktop(b),W.media.tablet(y),W.media.phone(v)),Y=W.StyledP.extend(x,function(n){return n.theme.shades.dark},W.media.tablet(S)),Z=W.StyledP.extend(w,W.media.desktop(z),W.media.tablet(_)),$=Z.extend(E,W.media.desktop(k),W.media.tablet(B)),nn=W.StyledA.extend(P,function(n){return n.theme.tints.brightgreen},function(n){return n.theme.secondary.red}),en=(0,M.default)(D.Tag).withConfig({displayName:"storyBlog__ArticleTag"})(["align-self:center;"]),tn=M.default.article.withConfig({displayName:"storyBlog__ArticleContent"})(["grid-area:cont;padding:0.8em;"]),an=function(n){var e=n.data,t=n.location,a=function(){return(0,j.navigateTo)("/stories")},o=e.contentfulBlog,r=o.title,i=o.publishDate,l=o.tags,c=o.author,s=o.content,d=e.contentfulBlog.source;return d=d?d:t.pathname,T.default.createElement("div",null,T.default.createElement(A.default,{type:"stories"}),T.default.createElement(K,null,T.default.createElement(U,null,T.default.createElement(V,null,r),T.default.createElement(X,null,c.fullName,T.default.createElement(J,{color:function(n){return n.theme.secondary.red},href:"https://twitter.com/"+c.contact.trim()},"Follow")),T.default.createElement(Y,null,c.bio.bio),T.default.createElement(Z,null,i),T.default.createElement($,null,"Originally published in:",T.default.createElement(nn,{href:d},d)),T.default.createElement(en,{tags:l,color:function(n){return n.theme.primary.dark}})),T.default.createElement(tn,{dangerouslySetInnerHTML:{__html:s.childMarkdownRemark.html},className:"user-article"}),T.default.createElement(G,null,T.default.createElement(L,{color:function(n){return n.theme.secondary.green},onClick:a},"Back to Stories"))))};an.propTypes={data:I.default.object.isRequired,location:I.default.object,theme:I.default.PropTypes.oneOfType([I.default.func,I.default.object])},e.default=an;e.storyBlogQuery="** extracted graphql fragment **"}});
//# sourceMappingURL=component---src-templates-story-blog-js-261a8093c5b88aea16f9.js.map