webpackJsonp([0xdf49b16e737],{242:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return e.raw=t,e}t.__esModule=!0;var l=s(["\n    grid-column-gap: 0.5rem;\n    grid-template-areas:\n      '. fs fs fs fs fs fs fs fs fs fs .'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "],["\n    grid-column-gap: 0.5rem;\n    grid-template-areas:\n      '. fs fs fs fs fs fs fs fs fs fs .'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "]),c=s(["\n    grid-template-areas:\n      'fs fs fs fs fs fs fs fs fs fs fs fs'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "],["\n    grid-template-areas:\n      'fs fs fs fs fs fs fs fs fs fs fs fs'\n      'cont cont cont cont cont cont cont cont cont cont cont cont';\n  "]),u=n(3),d=r(u),m=n(5),f=r(m),p=n(2),g=r(p),h=n(6),y=n(54),b=r(y),w=n(53),x=r(w),v=n(55),S=r(v),_=n(73),E=r(_),C=(n(56),f.default.div.withConfig({displayName:"StoriesContainer__Wrapper"})(["display:grid;grid-template-columns:repeat(12,1fr);grid-template-rows:auto;grid-column-gap:1rem;grid-template-areas:'. . fs fs fs fs fs fs fs fs . .' 'cont cont cont cont cont cont cont cont cont cont cont cont';margin-top:2.5rem;"," ",";"],h.media.giant(l),h.media.tablet(c))),P=f.default.div.withConfig({displayName:"StoriesContainer__Container"})(["grid-area:cont;display:flex;flex-direction:column;align-content:center;"]),z=function(e){function t(n){a(this,t);var r=o(this,e.call(this,n));return r.state={searchQuery:"",blog:r.props.initialBlog,firstItem:0,activePage:0},r.CARDS={cols:2,items:6},r.changePage=r.changePage.bind(r),r.handleSort=r.handleSort.bind(r),r.handleSearch=r.handleSearch.bind(r),r.handleInput=r.handleInput.bind(r),r}return i(t,e),t.prototype.changePage=function(e){var t=this.state,n=t.firstItem,r=t.blog,a=t.activePage,o=this.props,i=o.numStories,s=o.pages,l=r.length-1,c=n-i;c=c<0?0:c;var u=n+i;switch(u=u>l?l:u,e){case-1:return void this.setState({firstItem:c,activePage:a-1<0?0:a-1});case 0:return void this.setState({firstItem:u,activePage:a+2>s?s-1:a+1});default:return void this.setState({firstItem:i*(e-1),activePage:e-1})}},t.prototype.handleSort=function(e){var t=[].concat(this.state.blog),n=[].concat(this.props.initialBlog);switch(e){case"all":return void this.setState({blog:n});case"by author":return void this.setState({blog:this.sortByAuthor(t)});case"top rated":return;default:return}},t.prototype.handleSearch=function(){},t.prototype.handleInput=function(e){this.setState({searchQuery:e})},t.prototype.setPagination=function(){var e=this.props.numStories,t=this.state,n=t.firstItem,r=t.blog;return r.slice(n,n+e)},t.prototype.sortByAuthor=function(e){var t=e.sort(function(e,t){var n=e.node.author.lastName,r=t.node.author.lastName;return n<r?-1:n>r?1:0});return t},t.prototype.render=function(){var e=this.setPagination();return d.default.createElement(C,null,d.default.createElement(b.default,{area:"fs",items:this.props.menuFilter,changeDates:this.handleSort,search:this.handleSearch,input:this.handleInput}),d.default.createElement(P,null,d.default.createElement(x.default,{cols:this.CARDS.cols,story:!0},e.map(function(e){return d.default.createElement(S.default,{key:e.node.id,title:e.node.title,author:e.node.author.fullName,date:e.node.publishDate,text:e.node.excerpt.excerpt,img:e.node.featureImage.resolutions.src})})),d.default.createElement(E.default,{onChange:this.changePage,background:this.props.theme.white,pageNum:this.props.pages,active:this.state.activePage})))},t}(d.default.Component);t.default=(0,m.withTheme)(z),z.propTypes={initialBlog:g.default.array,menuFilter:g.default.array.isRequired,pages:g.default.number.isRequired,numStories:g.default.number.isRequired,theme:g.default.PropTypes.oneOfType([g.default.func,g.default.object])},e.exports=t.default},55:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return e.raw=t,e}t.__esModule=!0;var l=s(["\n    grid-template-areas:\n    'img img img'\n    'text text text';\n    //grid-template-rows: 30% minmax(17em, auto);\n  "],["\n    grid-template-areas:\n    'img img img'\n    'text text text';\n    //grid-template-rows: 30% minmax(17em, auto);\n  "]),c=s(["\n    margin: 0;\n  "],["\n    margin: 0;\n  "]),u=s(["\n    width: 6rem;\n    height: 6rem;\n  "],["\n    width: 6rem;\n    height: 6rem;\n  "]),d=s(["\n    justify-content: space-between;\n  "],["\n    justify-content: space-between;\n  "]),m=s(["\n    padding-top: 0;\n    margin-top: 0.5rem;\n    //margin-bottom: auto;\n  "],["\n    padding-top: 0;\n    margin-top: 0.5rem;\n    //margin-bottom: auto;\n  "]),f=s(["\n    padding: 0 0.3rem;\n    margin-top: 0;\n  "],["\n    padding: 0 0.3rem;\n    margin-top: 0;\n  "]),p=s(["\n  grid-column: 1 / span 4;\n  color: ",";\n  margin: 0.5rem 0;\n  padding: 0;\n  text-align: center;\n  font-size: 1.5rem;\n  "," ",";\n"],["\n  grid-column: 1 / span 4;\n  color: ",";\n  margin: 0.5rem 0;\n  padding: 0;\n  text-align: center;\n  font-size: 1.5rem;\n  "," ",";\n"]),g=s(["\n    font-size: 1.2rem;\n  "],["\n    font-size: 1.2rem;\n  "]),h=s(["\n    padding: 0.5rem 0.5rem 0 0.5rem;\n    font-size: 1.25rem;\n  "],["\n    padding: 0.5rem 0.5rem 0 0.5rem;\n    font-size: 1.25rem;\n  "]),y=s(["\n  grid-column: 1 / span 4;\n  color: ",";\n  margin: 0.25em;\n  padding: 0;\n  font-size: 1.1rem;\n  text-align: center;\n  "," ",";\n"],["\n  grid-column: 1 / span 4;\n  color: ",";\n  margin: 0.25em;\n  padding: 0;\n  font-size: 1.1rem;\n  text-align: center;\n  "," ",";\n"]),b=s(["\n    font-size: 1rem;\n  "],["\n    font-size: 1rem;\n  "]),w=s(["\n    margin: 0.5rem;\n  "],["\n    margin: 0.5rem;\n  "]),x=s(["\n  grid-column: 1 / span 4;\n  color: ",";\n  padding: 0;\n  margin: 0.25rem;\n  font-size: 1rem;\n  text-align: center;\n"],["\n  grid-column: 1 / span 4;\n  color: ",";\n  padding: 0;\n  margin: 0.25rem;\n  font-size: 1rem;\n  text-align: center;\n"]),v=s(["\n  grid-column: 1 / span 4;\n  color: ",";\n  margin: 0.2rem 0.2rem 1.2rem 0.2rem;\n  padding: 0 0.5em;\n  min-height: 8rem;\n  font-size: 1.125rem;\n  "," "," ",";\n"],["\n  grid-column: 1 / span 4;\n  color: ",";\n  margin: 0.2rem 0.2rem 1.2rem 0.2rem;\n  padding: 0 0.5em;\n  min-height: 8rem;\n  font-size: 1.125rem;\n  "," "," ",";\n"]),S=s(["\n    font-size: 1.1rem;\n    min-height: 6rem;\n  "],["\n    font-size: 1.1rem;\n    min-height: 6rem;\n  "]),_=s(["\n    margin-top:0;\n    padding: 0 0.25rem;\n    font-size: 1.05rem;\n  "],["\n    margin-top:0;\n    padding: 0 0.25rem;\n    font-size: 1.05rem;\n  "]),E=s(["\n    margin-bottom: 1rem;\n  "],["\n    margin-bottom: 1rem;\n  "]),C=s(["\n    margin-bottom: 0.5rem;\n    & > button {\n      padding: 0.75rem 1.5rem;\n    }\n  "],["\n    margin-bottom: 0.5rem;\n    & > button {\n      padding: 0.75rem 1.5rem;\n    }\n  "]),P=n(3),z=r(P),j=n(2),O=r(j),k=n(5),I=r(k),M=n(6),N=n(52),B=I.default.div.withConfig({displayName:"StoryCard__Wrapper"})(["display:grid;grid-template-columns:1fr 2fr;grid-template-rows:auto;grid-template-areas:'img text text';background:",";border-radius:4px;"," ",";"],function(e){return e.theme.primary.light},M.media.tablet(l),M.media.phone(c)),T=I.default.img.withConfig({displayName:"StoryCard__Image"})(["grid-area:img;justify-self:center;margin:1.3rem 0.5rem 0.5rem 0.5rem;border-radius:90px;border:1px solid ",";width:8rem;height:8rem;",";"],function(e){return e.theme.secondary.yellow},M.media.desktop(u)),D=I.default.div.withConfig({displayName:"StoryCard__Text"})(["grid-area:text;padding:0.5rem;margin:0.5rem;display:flex;flex-direction:column;justify-content:flex-start;align-items:center;"," "," ",";"],M.media.desktop(d),M.media.tablet(m),M.media.phone(f)),A=M.StyledH3.extend(p,function(e){return e.theme.white},M.media.desktop(g),M.media.phone(h)),R=M.StyledH4.extend(y,function(e){return e.theme.secondary.green},M.media.desktop(b),M.media.phone(w)),q=M.StyledP.extend(x,function(e){return e.theme.secondary.yellow}),F=M.StyledP.extend(v,function(e){return e.theme.white},M.media.giant(S),M.media.desktop(b),M.media.phone(_)),J=I.default.div.withConfig({displayName:"StoryCard__ButtonContainer"})(["grid-column:1 / span 4;align-self:center;justify-self:center;margin-top:auto;"," ",";"],M.media.desktop(E),M.media.tablet(C)),H=function(e){function t(){return a(this,t),o(this,e.apply(this,arguments))}return i(t,e),t.prototype.formatDate=function(e){var t=new Date(e),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return"Published: "+t.getDate()+" "+n[t.getMonth()]+" "+t.getFullYear()},t.prototype.readStory=function(e){console.log("button is clicked")},t.prototype.render=function(){var e=this,t=this.props,n=t.img,r=t.title,a=t.author,o=t.date,i=t.text;return z.default.createElement(B,null,z.default.createElement(T,{src:n,alt:r}),z.default.createElement(D,null,z.default.createElement(A,null,r),z.default.createElement(R,null,"Author: "+a),z.default.createElement(q,null,this.formatDate(o)),z.default.createElement(F,null,i),z.default.createElement(J,null,z.default.createElement(N.ButtonBig,{color:function(e){return e.theme.white},border:function(e){return e.theme.white},onClick:function(t){return e.readStory(t)}},"read more"))))},t}(z.default.Component);H.propTypes={title:O.default.string,author:O.default.string,date:O.default.string,text:O.default.string,img:O.default.string},t.default=H,e.exports=t.default},251:function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.query=void 0;var a=n(3),o=r(a),i=n(33),s=r(i),l=n(242),c=r(l),u=4,d=function(e){var t=e.data,n=t.site,r=t.allContentfulBlog,a=Math.ceil(r.edges.length/u);return o.default.createElement("div",null,o.default.createElement(s.default,{type:"stories"}),o.default.createElement(c.default,{menuFilter:n.siteMetadata.filterOptions.stories,initialBlog:r.edges,pages:a,numStories:u}))};t.query="** extracted graphql fragment **";t.default=d}});
//# sourceMappingURL=component---src-pages-stories-js-575244a12e5cec5c3e95.js.map